{"version":3,"sources":["webpack://flagship/webpack/bootstrap","webpack://flagship/./node_modules/axios/index.js","webpack://flagship/./node_modules/axios/lib/adapters/http.js","webpack://flagship/./node_modules/axios/lib/adapters/xhr.js","webpack://flagship/./node_modules/axios/lib/axios.js","webpack://flagship/./node_modules/axios/lib/cancel/Cancel.js","webpack://flagship/./node_modules/axios/lib/cancel/CancelToken.js","webpack://flagship/./node_modules/axios/lib/cancel/isCancel.js","webpack://flagship/./node_modules/axios/lib/core/Axios.js","webpack://flagship/./node_modules/axios/lib/core/InterceptorManager.js","webpack://flagship/./node_modules/axios/lib/core/buildFullPath.js","webpack://flagship/./node_modules/axios/lib/core/createError.js","webpack://flagship/./node_modules/axios/lib/core/dispatchRequest.js","webpack://flagship/./node_modules/axios/lib/core/enhanceError.js","webpack://flagship/./node_modules/axios/lib/core/mergeConfig.js","webpack://flagship/./node_modules/axios/lib/core/settle.js","webpack://flagship/./node_modules/axios/lib/core/transformData.js","webpack://flagship/./node_modules/axios/lib/defaults.js","webpack://flagship/./node_modules/axios/lib/helpers/bind.js","webpack://flagship/./node_modules/axios/lib/helpers/buildURL.js","webpack://flagship/./node_modules/axios/lib/helpers/combineURLs.js","webpack://flagship/./node_modules/axios/lib/helpers/cookies.js","webpack://flagship/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://flagship/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://flagship/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://flagship/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://flagship/./node_modules/axios/lib/helpers/spread.js","webpack://flagship/./node_modules/axios/lib/utils.js","webpack://flagship/./node_modules/validate.js/validate.js","webpack://flagship/(webpack)/buildin/amd-define.js","webpack://flagship/(webpack)/buildin/module.js","webpack://flagship/./src/class/bucketing/bucketing.ts","webpack://flagship/./src/class/bucketingVisitor/bucketingVisitor.ts","webpack://flagship/./src/class/flagship/flagship.ts","webpack://flagship/./src/class/flagshipVisitor/flagshipVisitor.ts","webpack://flagship/./src/class/panicMode/panicMode.ts","webpack://flagship/./src/config/default.ts","webpack://flagship/./src/config/otherSdk.ts","webpack://flagship/./src/config/test.ts","webpack://flagship/./src/index.ts","webpack://flagship/./src/lib/flagshipSdkHelper.ts","webpack://flagship/./src/lib/loggerHelper.ts","webpack://flagship/./src/lib/utils.ts","webpack://flagship/external \"@flagship.io/js-sdk-logs\"","webpack://flagship/external \"events\"","webpack://flagship/external \"follow-redirects\"","webpack://flagship/external \"http\"","webpack://flagship/external \"https\"","webpack://flagship/external \"react-native-murmurhash\"","webpack://flagship/external \"url\"","webpack://flagship/external \"zlib\""],"names":[],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,iBAAiB,mBAAO,CAAC,sDAAa,E;;;;;;;;;;;;ACAzB;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,aAAa,mBAAO,CAAC,iEAAkB;AACvC,oBAAoB,mBAAO,CAAC,6EAAuB;AACnD,eAAe,mBAAO,CAAC,2EAAuB;AAC9C,WAAW,mBAAO,CAAC,kBAAM;AACzB,YAAY,mBAAO,CAAC,oBAAO;AAC3B,iBAAiB,mBAAO,CAAC,0CAAkB;AAC3C,kBAAkB,mBAAO,CAAC,0CAAkB;AAC5C,UAAU,mBAAO,CAAC,gBAAK;AACvB,WAAW,mBAAO,CAAC,kBAAM;AACzB,UAAU,mBAAO,CAAC,+DAAsB;AACxC,kBAAkB,mBAAO,CAAC,yEAAqB;AAC/C,mBAAmB,mBAAO,CAAC,2EAAsB;;AAEjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mDAAmD;AAClE;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACtRa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,aAAa,mBAAO,CAAC,iEAAkB;AACvC,eAAe,mBAAO,CAAC,2EAAuB;AAC9C,oBAAoB,mBAAO,CAAC,6EAAuB;AACnD,mBAAmB,mBAAO,CAAC,mFAA2B;AACtD,sBAAsB,mBAAO,CAAC,yFAA8B;AAC5D,kBAAkB,mBAAO,CAAC,yEAAqB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAO,CAAC,yEAAsB;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACnLa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,WAAW,mBAAO,CAAC,gEAAgB;AACnC,YAAY,mBAAO,CAAC,4DAAc;AAClC,kBAAkB,mBAAO,CAAC,wEAAoB;AAC9C,eAAe,mBAAO,CAAC,wDAAY;;AAEnC;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAO,CAAC,kEAAiB;AACxC,oBAAoB,mBAAO,CAAC,4EAAsB;AAClD,iBAAiB,mBAAO,CAAC,sEAAmB;;AAE5C;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,oEAAkB;;AAEzC;;AAEA;AACA;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;;AClBa;;AAEb,aAAa,mBAAO,CAAC,2DAAU;;AAE/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACxDa;;AAEb;AACA;AACA;;;;;;;;;;;;;ACJa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,eAAe,mBAAO,CAAC,yEAAqB;AAC5C,yBAAyB,mBAAO,CAAC,iFAAsB;AACvD,sBAAsB,mBAAO,CAAC,2EAAmB;AACjD,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;;;;;;AC7Fa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;;ACnDa;;AAEb,oBAAoB,mBAAO,CAAC,mFAA0B;AACtD,kBAAkB,mBAAO,CAAC,+EAAwB;;AAElD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBa;;AAEb,mBAAmB,mBAAO,CAAC,qEAAgB;;AAE3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,oBAAoB,mBAAO,CAAC,uEAAiB;AAC7C,eAAe,mBAAO,CAAC,uEAAoB;AAC3C,eAAe,mBAAO,CAAC,yDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;;;;;;AC9Ea;;AAEb;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzCa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACxEa;;AAEb,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACnBa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,0BAA0B,mBAAO,CAAC,8FAA+B;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,gEAAgB;AACtC,GAAG;AACH;AACA,cAAc,mBAAO,CAAC,kEAAiB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY;AACnB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;AChGa;;AAEb;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtEa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;AAC1C,SAAS;;AAET;AACA,4DAA4D,wBAAwB;AACpF;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,kCAAkC;AAClC,+BAA+B,aAAa,EAAE;AAC9C;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACnEa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACXa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ba;;AAEb,WAAW,mBAAO,CAAC,gEAAgB;;AAEnC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C,2BAA2B;AAC3B;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,gCAAgC;AAChC,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACvVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;;AAEA,kCAAkC,6BAA6B,EAAE;AACjE;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,MAAM,GAAG,MAAM,GAAG,MAAM;AAC1D;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,4DAA4D;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAkD,KAAK,IAAI,oBAAoB;AAC/E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP,mDAAmD,OAAO;AAC1D;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA,2BAA2B;AAC3B;AACA;AACA,OAAO;AACP,gBAAgB,cAAc,GAAG,oBAAoB;AACrD,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO,6BAA6B,KAAK,EAAE,GAAG;AAC9C,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,sBAAsB,IAAI,IAAI,WAAW;AACzC;AACA,8BAA8B,IAAI;AAClC,2CAA2C,IAAI;AAC/C,mBAAmB,IAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL,iBAAiB,IAAI;AACrB,6BAA6B,KAAK,KAAK;AACvC,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,oCAAoC,sBAAsB,EAAE;AAC5D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,eAAe;AACf,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA,SAAS,6BAA6B;AACtC;AACA,SAAS,mBAAmB,GAAG,mBAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU,WAAW;AACrD,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B,cAAc,aAAa;AACvD,OAAO;AACP;AACA,KAAK;;AAEL;AACA,SAAS,kCAAkC;AAC3C;AACA,QAAQ,qBAAqB,kCAAkC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA,SAAS,0BAA0B,GAAG,0BAA0B;AAChE;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB,EAAE;AACpD;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,kCAAkC,iBAAiB,EAAE;AACrD;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;AACA,0DAA0D,YAAY;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C,MAAM;AAClD,mCAAmC,UAAU;AAC7C;;AAEA;AACA;AACA;AACA,sCAAsC,MAAM;AAC5C,mCAAmC,eAAe;AAClD;;AAEA;AACA;AACA;AACA,qCAAqC,MAAM;AAC3C,mCAAmC,eAAe;AAClD;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA,kDAAkD,cAAc,EAAE;AAClE,kDAAkD,eAAe,EAAE;AACnE,kDAAkD,gBAAgB,EAAE;AACpE,kDAAkD,cAAc,EAAE;AAClE,kDAAkD,eAAe,EAAE;AACnE,kDAAkD,oBAAoB;AACtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK,GAAG,MAAM;;AAErC;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,KAAK;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,2BAA2B,YAAY,eAAe;AACtD;AACA,KAAK;AACL;AACA;AACA,mBAAmB;AACnB;;AAEA,2BAA2B;;AAE3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,gCAAgC,aAAa;AAC7C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,2DAA2D,MAAM;AACjE;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C,KAAK;AACL;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,0CAA0C,EAAE,+BAA+B,EAAE,2NAA2N,EAAE;AAC1S,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA,2BAA2B;AAC3B;AACA;AACA,2BAA2B,UAAU;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,uCAAuC;AACzE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA+C,GAAG;;AAElD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,kCAAkC,IAAI,EAAE,EAAE;AAC1C,+CAA+C,IAAI,EAAE,EAAE;AACvD,oDAAoD,IAAI,EAAE,EAAE;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,IAAI,qBAAqB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C,6CAA6C;AAC7C,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mFAAmF,KAAK;;AAExF;AACA;AACA;;AAEA,kCAAkC,6CAA6C;AAC/E;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,yDAAyD,8FAAM;AAC/D,CAAC;AACD,QAAQ,KAA8B,wCAAwC,SAAI;AAClF,QAAQ,KAA6B,uCAAuC,SAAI;AAChF,QAAQ,8FAAwE;;;;;;;;;;;;;ACpuChF;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACrBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,4CAAO;AAC7B,eAAe,mBAAO,CAAC,sBAAQ;AAC/B,gBAAgB,mBAAO,CAAC,qDAAsB;AAC9C,qBAAqB,mBAAO,CAAC,yDAAwB;AACrD,0BAA0B,mBAAO,CAAC,mEAA6B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uCAAuC;AACxD,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,mBAAmB,2CAA2C;AACnH;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC1Ja;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,gCAAgC,mBAAO,CAAC,wDAAyB;AACjE,qBAAqB,mBAAO,CAAC,yDAAwB;AACrD,0BAA0B,mBAAO,CAAC,mEAA6B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,oEAAoE;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,wBAAwB;AACxB;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0HAA0H;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,6CAA6C,EAAE,4BAA4B,wBAAwB,EAAE;AAC/J;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,oCAAoC,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,gBAAgB,EAAE;AAC7F;AACA;AACA;AACA;AACA,2EAA2E,gBAAgB,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,0CAA0C,EAAE;AACnI;AACA;AACA;AACA;AACA,uFAAuF,cAAc,EAAE;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,2CAA2C,EAAE;AACpI;AACA;AACA;AACA;AACA,uFAAuF,eAAe,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,0CAA0C,EAAE;AACnI;AACA;AACA;AACA;AACA,uFAAuF,cAAc,EAAE;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,2CAA2C,EAAE;AACpI;AACA;AACA;AACA;AACA,uFAAuF,eAAe,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,mDAAmD,EAAE;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,sFAAsF,wBAAwB,EAAE;AAChH,qBAAqB;AACrB,6EAA6E,wBAAwB,EAAE;AACvG;AACA,aAAa;AACb;AACA;AACA,wDAAwD,cAAc,uEAAuE,qCAAqC,EAAE,GAAG,EAAE;AACzL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AChWa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,sBAAQ;AAC/B,gBAAgB,mBAAO,CAAC,qDAAsB;AAC9C,0BAA0B,mBAAO,CAAC,mEAA6B;AAC/D,qBAAqB,mBAAO,CAAC,yDAAwB;AACrD,kBAAkB,mBAAO,CAAC,kEAAwB;AAClD,wBAAwB,mBAAO,CAAC,0FAAoC;AACpE,kBAAkB,mBAAO,CAAC,kEAAwB;AAClD,cAAc,mBAAO,CAAC,2CAAiB;AACvC;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,cAAc;AAC7E;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC9Ka;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA,iDAAiD,QAAQ;AACzD,wCAAwC,QAAQ;AAChD,wDAAwD,QAAQ;AAChE;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,4CAAO;AAC7B,eAAe,mBAAO,CAAC,sBAAQ;AAC/B,0BAA0B,mBAAO,CAAC,mEAA6B;AAC/D,qBAAqB,mBAAO,CAAC,yDAAwB;AACrD,yBAAyB,mBAAO,CAAC,8FAAsC;AACvE;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C,iDAAiD,gCAAgC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,6CAA6C;AACzF,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,6BAA6B;AAC3E,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,0CAA0C,sBAAsB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB,mCAAmC;AACxD;AACA;AACA;AACA,aAAa;AACb,yBAAyB,mCAAmC;AAC5D,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iLAAiL,mBAAmB,EAAE;AACtM;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,6BAA6B;AAC3E,qCAAqC,qBAAqB;AAC1D,sBAAsB,qBAAqB,iBAAiB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,mCAAmC,EAAE;AACpI;AACA,kHAAkH,0BAA0B,EAAE;AAC9I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,wEAAwE,qBAAqB,EAAE,kDAAkD,qBAAqB,EAAE;AACxK,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB,gCAAgC,iCAAiC;AAChI;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS,IAAI;AACb;AACA;AACA,mCAAmC,gBAAgB;AACnD,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA;AACA,kDAAkD,iCAAiC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,kDAAkD,iCAAiC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,iCAAiC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mDAAmD,sBAAsB,EAAE;AAC3E;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,SAAS,EAAE;AACX;AACA,4DAA4D,+BAA+B;AAC3F;AACA;AACA;AACA;AACA;AACA,0FAA0F,8CAA8C;AACxI;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,2CAA2C,EAAE;AACxH;AACA,uEAAuE,4DAA4D,EAAE;AACrI,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA,mDAAmD,qBAAqB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA,mDAAmD,iBAAiB,4FAA4F,EAAE,EAAE;AACpK;AACA,2CAA2C,mDAAmD;AAC9F;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,yCAAyC,iFAAiF;AAC1H;AACA;AACA;AACA;AACA;AACA,oDAAoD,oBAAoB;AACxE,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA,aAAa;AACb,yCAAyC,sBAAsB,EAAE;AACjE,SAAS;AACT;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,qCAAqC,EAAE;AAC1H;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,qBAAqB,QAAQ,oCAAoC,EAAE;AAChH;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,8DAA8D,2DAA2D,sBAAsB;AAC/I;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,6DAA6D,sBAAsB;AACnJ;AACA;AACA,gDAAgD;AAChD;AACA;AACA,mEAAmE,8BAA8B,iDAAiD;AAClJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iGAAiG;AACjG,iBAAiB;AACjB;AACA,qLAAqL;AACrL;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA,yDAAyD;AACzD;AACA;AACA,kDAAkD;AAClD;AACA;AACA,qDAAqD;AACrD;AACA;AACA,wDAAwD;AACxD;AACA;AACA,0DAA0D;AAC1D;AACA;AACA,2DAA2D;AAC3D;AACA;AACA,uDAAuD;AACvD;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,wDAAwD;AACzF;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,qDAAqD;AACrD;AACA;AACA,qDAAqD;AACrD;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,sDAAsD;AACvF;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,kDAAkD;AAClD;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uCAAuC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,kBAAkB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA,8CAA8C,2CAA2C;AACzF;AACA,qGAAqG,mBAAmB,iBAAiB,cAAc,EAAE;AACzJ;AACA;AACA,8EAA8E,qBAAqB,gBAAgB,EAAE,EAAE,GAAG;AAC1H,iBAAiB;AACjB,aAAa,EAAE,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,iCAAiC,EAAE;AACrI;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,mDAAmD,kBAAkB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA,+DAA+D,mBAAmB;AAClF,mDAAmD,qBAAqB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACz6Ba;AACb,8CAA8C,cAAc;AAC5D,oBAAoB,mBAAO,CAAC,0DAA0B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,YAAY,kBAAkB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,oCAAoC;AACzE;AACA;AACA,iCAAiC,YAAY,oBAAoB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC7Ca;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;;;;;;;;;;;;ACnBa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,gBAAgB,mBAAO,CAAC,0CAAW;AACnC,qCAAqC,uBAAuB,yBAAyB;AACrF,oCAAoC;AACpC;;;;;;;;;;;;;ACjBa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,mEAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,4CAAO;AAC7B,oBAAoB,mBAAO,CAAC,2DAAa;AACzC,gBAAgB,mBAAO,CAAC,kDAAmB;AAC3C,iBAAiB,mBAAO,CAAC,oDAAoB;AAC7C,aAAa,mBAAO,CAAC,4CAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB,YAAY,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,kDAAkD,iBAAiB,oEAAoE,0HAA0H;AAChT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8CAA8C,aAAoB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB,yBAAyB,0CAA0C;AACnF,KAAK;AACL;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B,wBAAwB;AACnD,uBAAuB;AACvB,aAAa;AACb;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChRa;AACb,8CAA8C,cAAc;AAC5D,oBAAoB,mBAAO,CAAC,0DAA0B;AACtD;;;;;;;;;;;;;ACHa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBA,qD;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,iC","file":"index.node.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // Only set header if it hasn't been set in config\n    // See https://github.com/axios/axios/issues/69\n    if (!headers['User-Agent'] && !headers['user-agent']) {\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.hostname = proxy.host;\n      options.host = proxy.host;\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      options.port = proxy.port;\n      options.path = protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path;\n\n      // Basic proxy authorization\n      if (proxy.auth) {\n        var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n        options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n      }\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxContentLength && config.maxContentLength > -1) {\n      options.maxBodyLength = config.maxContentLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n      switch (res.headers['content-encoding']) {\n      /*eslint default-case:0*/\n      case 'gzip':\n      case 'compress':\n      case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n        stream = (res.statusCode === 204) ? stream : stream.pipe(zlib.createUnzip());\n\n        // remove the content-encoding in order to not confuse downstream operations\n        delete res.headers['content-encoding'];\n        break;\n      }\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && Buffer.concat(responseBuffer).length > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted) return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(config.timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', req));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","/*!\n * validate.js 0.13.1\n *\n * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp\n * Validate.js may be freely distributed under the MIT license.\n * For all details and documentation:\n * http://validatejs.org/\n */\n\n(function(exports, module, define) {\n  \"use strict\";\n\n  // The main function that calls the validators specified by the constraints.\n  // The options are the following:\n  //   - format (string) - An option that controls how the returned value is formatted\n  //     * flat - Returns a flat array of just the error messages\n  //     * grouped - Returns the messages grouped by attribute (default)\n  //     * detailed - Returns an array of the raw validation data\n  //   - fullMessages (boolean) - If `true` (default) the attribute name is prepended to the error.\n  //\n  // Please note that the options are also passed to each validator.\n  var validate = function(attributes, constraints, options) {\n    options = v.extend({}, v.options, options);\n\n    var results = v.runValidations(attributes, constraints, options)\n      , attr\n      , validator;\n\n    if (results.some(function(r) { return v.isPromise(r.error); })) {\n      throw new Error(\"Use validate.async if you want support for promises\");\n    }\n    return validate.processValidationResults(results, options);\n  };\n\n  var v = validate;\n\n  // Copies over attributes from one or more sources to a single destination.\n  // Very much similar to underscore's extend.\n  // The first argument is the target object and the remaining arguments will be\n  // used as sources.\n  v.extend = function(obj) {\n    [].slice.call(arguments, 1).forEach(function(source) {\n      for (var attr in source) {\n        obj[attr] = source[attr];\n      }\n    });\n    return obj;\n  };\n\n  v.extend(validate, {\n    // This is the version of the library as a semver.\n    // The toString function will allow it to be coerced into a string\n    version: {\n      major: 0,\n      minor: 13,\n      patch: 1,\n      metadata: null,\n      toString: function() {\n        var version = v.format(\"%{major}.%{minor}.%{patch}\", v.version);\n        if (!v.isEmpty(v.version.metadata)) {\n          version += \"+\" + v.version.metadata;\n        }\n        return version;\n      }\n    },\n\n    // Below is the dependencies that are used in validate.js\n\n    // The constructor of the Promise implementation.\n    // If you are using Q.js, RSVP or any other A+ compatible implementation\n    // override this attribute to be the constructor of that promise.\n    // Since jQuery promises aren't A+ compatible they won't work.\n    Promise: typeof Promise !== \"undefined\" ? Promise : /* istanbul ignore next */ null,\n\n    EMPTY_STRING_REGEXP: /^\\s*$/,\n\n    // Runs the validators specified by the constraints object.\n    // Will return an array of the format:\n    //     [{attribute: \"<attribute name>\", error: \"<validation result>\"}, ...]\n    runValidations: function(attributes, constraints, options) {\n      var results = []\n        , attr\n        , validatorName\n        , value\n        , validators\n        , validator\n        , validatorOptions\n        , error;\n\n      if (v.isDomElement(attributes) || v.isJqueryElement(attributes)) {\n        attributes = v.collectFormValues(attributes);\n      }\n\n      // Loops through each constraints, finds the correct validator and run it.\n      for (attr in constraints) {\n        value = v.getDeepObjectValue(attributes, attr);\n        // This allows the constraints for an attribute to be a function.\n        // The function will be called with the value, attribute name, the complete dict of\n        // attributes as well as the options and constraints passed in.\n        // This is useful when you want to have different\n        // validations depending on the attribute value.\n        validators = v.result(constraints[attr], value, attributes, attr, options, constraints);\n\n        for (validatorName in validators) {\n          validator = v.validators[validatorName];\n\n          if (!validator) {\n            error = v.format(\"Unknown validator %{name}\", {name: validatorName});\n            throw new Error(error);\n          }\n\n          validatorOptions = validators[validatorName];\n          // This allows the options to be a function. The function will be\n          // called with the value, attribute name, the complete dict of\n          // attributes as well as the options and constraints passed in.\n          // This is useful when you want to have different\n          // validations depending on the attribute value.\n          validatorOptions = v.result(validatorOptions, value, attributes, attr, options, constraints);\n          if (!validatorOptions) {\n            continue;\n          }\n          results.push({\n            attribute: attr,\n            value: value,\n            validator: validatorName,\n            globalOptions: options,\n            attributes: attributes,\n            options: validatorOptions,\n            error: validator.call(validator,\n                value,\n                validatorOptions,\n                attr,\n                attributes,\n                options)\n          });\n        }\n      }\n\n      return results;\n    },\n\n    // Takes the output from runValidations and converts it to the correct\n    // output format.\n    processValidationResults: function(errors, options) {\n      errors = v.pruneEmptyErrors(errors, options);\n      errors = v.expandMultipleErrors(errors, options);\n      errors = v.convertErrorMessages(errors, options);\n\n      var format = options.format || \"grouped\";\n\n      if (typeof v.formatters[format] === 'function') {\n        errors = v.formatters[format](errors);\n      } else {\n        throw new Error(v.format(\"Unknown format %{format}\", options));\n      }\n\n      return v.isEmpty(errors) ? undefined : errors;\n    },\n\n    // Runs the validations with support for promises.\n    // This function will return a promise that is settled when all the\n    // validation promises have been completed.\n    // It can be called even if no validations returned a promise.\n    async: function(attributes, constraints, options) {\n      options = v.extend({}, v.async.options, options);\n\n      var WrapErrors = options.wrapErrors || function(errors) {\n        return errors;\n      };\n\n      // Removes unknown attributes\n      if (options.cleanAttributes !== false) {\n        attributes = v.cleanAttributes(attributes, constraints);\n      }\n\n      var results = v.runValidations(attributes, constraints, options);\n\n      return new v.Promise(function(resolve, reject) {\n        v.waitForResults(results).then(function() {\n          var errors = v.processValidationResults(results, options);\n          if (errors) {\n            reject(new WrapErrors(errors, options, attributes, constraints));\n          } else {\n            resolve(attributes);\n          }\n        }, function(err) {\n          reject(err);\n        });\n      });\n    },\n\n    single: function(value, constraints, options) {\n      options = v.extend({}, v.single.options, options, {\n        format: \"flat\",\n        fullMessages: false\n      });\n      return v({single: value}, {single: constraints}, options);\n    },\n\n    // Returns a promise that is resolved when all promises in the results array\n    // are settled. The promise returned from this function is always resolved,\n    // never rejected.\n    // This function modifies the input argument, it replaces the promises\n    // with the value returned from the promise.\n    waitForResults: function(results) {\n      // Create a sequence of all the results starting with a resolved promise.\n      return results.reduce(function(memo, result) {\n        // If this result isn't a promise skip it in the sequence.\n        if (!v.isPromise(result.error)) {\n          return memo;\n        }\n\n        return memo.then(function() {\n          return result.error.then(function(error) {\n            result.error = error || null;\n          });\n        });\n      }, new v.Promise(function(r) { r(); })); // A resolved promise\n    },\n\n    // If the given argument is a call: function the and: function return the value\n    // otherwise just return the value. Additional arguments will be passed as\n    // arguments to the function.\n    // Example:\n    // ```\n    // result('foo') // 'foo'\n    // result(Math.max, 1, 2) // 2\n    // ```\n    result: function(value) {\n      var args = [].slice.call(arguments, 1);\n      if (typeof value === 'function') {\n        value = value.apply(null, args);\n      }\n      return value;\n    },\n\n    // Checks if the value is a number. This function does not consider NaN a\n    // number like many other `isNumber` functions do.\n    isNumber: function(value) {\n      return typeof value === 'number' && !isNaN(value);\n    },\n\n    // Returns false if the object is not a function\n    isFunction: function(value) {\n      return typeof value === 'function';\n    },\n\n    // A simple check to verify that the value is an integer. Uses `isNumber`\n    // and a simple modulo check.\n    isInteger: function(value) {\n      return v.isNumber(value) && value % 1 === 0;\n    },\n\n    // Checks if the value is a boolean\n    isBoolean: function(value) {\n      return typeof value === 'boolean';\n    },\n\n    // Uses the `Object` function to check if the given argument is an object.\n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n\n    // Simply checks if the object is an instance of a date\n    isDate: function(obj) {\n      return obj instanceof Date;\n    },\n\n    // Returns false if the object is `null` of `undefined`\n    isDefined: function(obj) {\n      return obj !== null && obj !== undefined;\n    },\n\n    // Checks if the given argument is a promise. Anything with a `then`\n    // function is considered a promise.\n    isPromise: function(p) {\n      return !!p && v.isFunction(p.then);\n    },\n\n    isJqueryElement: function(o) {\n      return o && v.isString(o.jquery);\n    },\n\n    isDomElement: function(o) {\n      if (!o) {\n        return false;\n      }\n\n      if (!o.querySelectorAll || !o.querySelector) {\n        return false;\n      }\n\n      if (v.isObject(document) && o === document) {\n        return true;\n      }\n\n      // http://stackoverflow.com/a/384380/699304\n      /* istanbul ignore else */\n      if (typeof HTMLElement === \"object\") {\n        return o instanceof HTMLElement;\n      } else {\n        return o &&\n          typeof o === \"object\" &&\n          o !== null &&\n          o.nodeType === 1 &&\n          typeof o.nodeName === \"string\";\n      }\n    },\n\n    isEmpty: function(value) {\n      var attr;\n\n      // Null and undefined are empty\n      if (!v.isDefined(value)) {\n        return true;\n      }\n\n      // functions are non empty\n      if (v.isFunction(value)) {\n        return false;\n      }\n\n      // Whitespace only strings are empty\n      if (v.isString(value)) {\n        return v.EMPTY_STRING_REGEXP.test(value);\n      }\n\n      // For arrays we use the length property\n      if (v.isArray(value)) {\n        return value.length === 0;\n      }\n\n      // Dates have no attributes but aren't empty\n      if (v.isDate(value)) {\n        return false;\n      }\n\n      // If we find at least one property we consider it non empty\n      if (v.isObject(value)) {\n        for (attr in value) {\n          return false;\n        }\n        return true;\n      }\n\n      return false;\n    },\n\n    // Formats the specified strings with the given values like so:\n    // ```\n    // format(\"Foo: %{foo}\", {foo: \"bar\"}) // \"Foo bar\"\n    // ```\n    // If you want to write %{...} without having it replaced simply\n    // prefix it with % like this `Foo: %%{foo}` and it will be returned\n    // as `\"Foo: %{foo}\"`\n    format: v.extend(function(str, vals) {\n      if (!v.isString(str)) {\n        return str;\n      }\n      return str.replace(v.format.FORMAT_REGEXP, function(m0, m1, m2) {\n        if (m1 === '%') {\n          return \"%{\" + m2 + \"}\";\n        } else {\n          return String(vals[m2]);\n        }\n      });\n    }, {\n      // Finds %{key} style patterns in the given string\n      FORMAT_REGEXP: /(%?)%\\{([^\\}]+)\\}/g\n    }),\n\n    // \"Prettifies\" the given string.\n    // Prettifying means replacing [.\\_-] with spaces as well as splitting\n    // camel case words.\n    prettify: function(str) {\n      if (v.isNumber(str)) {\n        // If there are more than 2 decimals round it to two\n        if ((str * 100) % 1 === 0) {\n          return \"\" + str;\n        } else {\n          return parseFloat(Math.round(str * 100) / 100).toFixed(2);\n        }\n      }\n\n      if (v.isArray(str)) {\n        return str.map(function(s) { return v.prettify(s); }).join(\", \");\n      }\n\n      if (v.isObject(str)) {\n        if (!v.isDefined(str.toString)) {\n          return JSON.stringify(str);\n        }\n\n        return str.toString();\n      }\n\n      // Ensure the string is actually a string\n      str = \"\" + str;\n\n      return str\n        // Splits keys separated by periods\n        .replace(/([^\\s])\\.([^\\s])/g, '$1 $2')\n        // Removes backslashes\n        .replace(/\\\\+/g, '')\n        // Replaces - and - with space\n        .replace(/[_-]/g, ' ')\n        // Splits camel cased words\n        .replace(/([a-z])([A-Z])/g, function(m0, m1, m2) {\n          return \"\" + m1 + \" \" + m2.toLowerCase();\n        })\n        .toLowerCase();\n    },\n\n    stringifyValue: function(value, options) {\n      var prettify = options && options.prettify || v.prettify;\n      return prettify(value);\n    },\n\n    isString: function(value) {\n      return typeof value === 'string';\n    },\n\n    isArray: function(value) {\n      return {}.toString.call(value) === '[object Array]';\n    },\n\n    // Checks if the object is a hash, which is equivalent to an object that\n    // is neither an array nor a function.\n    isHash: function(value) {\n      return v.isObject(value) && !v.isArray(value) && !v.isFunction(value);\n    },\n\n    contains: function(obj, value) {\n      if (!v.isDefined(obj)) {\n        return false;\n      }\n      if (v.isArray(obj)) {\n        return obj.indexOf(value) !== -1;\n      }\n      return value in obj;\n    },\n\n    unique: function(array) {\n      if (!v.isArray(array)) {\n        return array;\n      }\n      return array.filter(function(el, index, array) {\n        return array.indexOf(el) == index;\n      });\n    },\n\n    forEachKeyInKeypath: function(object, keypath, callback) {\n      if (!v.isString(keypath)) {\n        return undefined;\n      }\n\n      var key = \"\"\n        , i\n        , escape = false;\n\n      for (i = 0; i < keypath.length; ++i) {\n        switch (keypath[i]) {\n          case '.':\n            if (escape) {\n              escape = false;\n              key += '.';\n            } else {\n              object = callback(object, key, false);\n              key = \"\";\n            }\n            break;\n\n          case '\\\\':\n            if (escape) {\n              escape = false;\n              key += '\\\\';\n            } else {\n              escape = true;\n            }\n            break;\n\n          default:\n            escape = false;\n            key += keypath[i];\n            break;\n        }\n      }\n\n      return callback(object, key, true);\n    },\n\n    getDeepObjectValue: function(obj, keypath) {\n      if (!v.isObject(obj)) {\n        return undefined;\n      }\n\n      return v.forEachKeyInKeypath(obj, keypath, function(obj, key) {\n        if (v.isObject(obj)) {\n          return obj[key];\n        }\n      });\n    },\n\n    // This returns an object with all the values of the form.\n    // It uses the input name as key and the value as value\n    // So for example this:\n    // <input type=\"text\" name=\"email\" value=\"foo@bar.com\" />\n    // would return:\n    // {email: \"foo@bar.com\"}\n    collectFormValues: function(form, options) {\n      var values = {}\n        , i\n        , j\n        , input\n        , inputs\n        , option\n        , value;\n\n      if (v.isJqueryElement(form)) {\n        form = form[0];\n      }\n\n      if (!form) {\n        return values;\n      }\n\n      options = options || {};\n\n      inputs = form.querySelectorAll(\"input[name], textarea[name]\");\n      for (i = 0; i < inputs.length; ++i) {\n        input = inputs.item(i);\n\n        if (v.isDefined(input.getAttribute(\"data-ignored\"))) {\n          continue;\n        }\n\n        var name = input.name.replace(/\\./g, \"\\\\\\\\.\");\n        value = v.sanitizeFormValue(input.value, options);\n        if (input.type === \"number\") {\n          value = value ? +value : null;\n        } else if (input.type === \"checkbox\") {\n          if (input.attributes.value) {\n            if (!input.checked) {\n              value = values[name] || null;\n            }\n          } else {\n            value = input.checked;\n          }\n        } else if (input.type === \"radio\") {\n          if (!input.checked) {\n            value = values[name] || null;\n          }\n        }\n        values[name] = value;\n      }\n\n      inputs = form.querySelectorAll(\"select[name]\");\n      for (i = 0; i < inputs.length; ++i) {\n        input = inputs.item(i);\n        if (v.isDefined(input.getAttribute(\"data-ignored\"))) {\n          continue;\n        }\n\n        if (input.multiple) {\n          value = [];\n          for (j in input.options) {\n            option = input.options[j];\n             if (option && option.selected) {\n              value.push(v.sanitizeFormValue(option.value, options));\n            }\n          }\n        } else {\n          var _val = typeof input.options[input.selectedIndex] !== 'undefined' ? input.options[input.selectedIndex].value : /* istanbul ignore next */ '';\n          value = v.sanitizeFormValue(_val, options);\n        }\n        values[input.name] = value;\n      }\n\n      return values;\n    },\n\n    sanitizeFormValue: function(value, options) {\n      if (options.trim && v.isString(value)) {\n        value = value.trim();\n      }\n\n      if (options.nullify !== false && value === \"\") {\n        return null;\n      }\n      return value;\n    },\n\n    capitalize: function(str) {\n      if (!v.isString(str)) {\n        return str;\n      }\n      return str[0].toUpperCase() + str.slice(1);\n    },\n\n    // Remove all errors who's error attribute is empty (null or undefined)\n    pruneEmptyErrors: function(errors) {\n      return errors.filter(function(error) {\n        return !v.isEmpty(error.error);\n      });\n    },\n\n    // In\n    // [{error: [\"err1\", \"err2\"], ...}]\n    // Out\n    // [{error: \"err1\", ...}, {error: \"err2\", ...}]\n    //\n    // All attributes in an error with multiple messages are duplicated\n    // when expanding the errors.\n    expandMultipleErrors: function(errors) {\n      var ret = [];\n      errors.forEach(function(error) {\n        // Removes errors without a message\n        if (v.isArray(error.error)) {\n          error.error.forEach(function(msg) {\n            ret.push(v.extend({}, error, {error: msg}));\n          });\n        } else {\n          ret.push(error);\n        }\n      });\n      return ret;\n    },\n\n    // Converts the error mesages by prepending the attribute name unless the\n    // message is prefixed by ^\n    convertErrorMessages: function(errors, options) {\n      options = options || {};\n\n      var ret = []\n        , prettify = options.prettify || v.prettify;\n      errors.forEach(function(errorInfo) {\n        var error = v.result(errorInfo.error,\n            errorInfo.value,\n            errorInfo.attribute,\n            errorInfo.options,\n            errorInfo.attributes,\n            errorInfo.globalOptions);\n\n        if (!v.isString(error)) {\n          ret.push(errorInfo);\n          return;\n        }\n\n        if (error[0] === '^') {\n          error = error.slice(1);\n        } else if (options.fullMessages !== false) {\n          error = v.capitalize(prettify(errorInfo.attribute)) + \" \" + error;\n        }\n        error = error.replace(/\\\\\\^/g, \"^\");\n        error = v.format(error, {\n          value: v.stringifyValue(errorInfo.value, options)\n        });\n        ret.push(v.extend({}, errorInfo, {error: error}));\n      });\n      return ret;\n    },\n\n    // In:\n    // [{attribute: \"<attributeName>\", ...}]\n    // Out:\n    // {\"<attributeName>\": [{attribute: \"<attributeName>\", ...}]}\n    groupErrorsByAttribute: function(errors) {\n      var ret = {};\n      errors.forEach(function(error) {\n        var list = ret[error.attribute];\n        if (list) {\n          list.push(error);\n        } else {\n          ret[error.attribute] = [error];\n        }\n      });\n      return ret;\n    },\n\n    // In:\n    // [{error: \"<message 1>\", ...}, {error: \"<message 2>\", ...}]\n    // Out:\n    // [\"<message 1>\", \"<message 2>\"]\n    flattenErrorsToArray: function(errors) {\n      return errors\n        .map(function(error) { return error.error; })\n        .filter(function(value, index, self) {\n          return self.indexOf(value) === index;\n        });\n    },\n\n    cleanAttributes: function(attributes, whitelist) {\n      function whitelistCreator(obj, key, last) {\n        if (v.isObject(obj[key])) {\n          return obj[key];\n        }\n        return (obj[key] = last ? true : {});\n      }\n\n      function buildObjectWhitelist(whitelist) {\n        var ow = {}\n          , lastObject\n          , attr;\n        for (attr in whitelist) {\n          if (!whitelist[attr]) {\n            continue;\n          }\n          v.forEachKeyInKeypath(ow, attr, whitelistCreator);\n        }\n        return ow;\n      }\n\n      function cleanRecursive(attributes, whitelist) {\n        if (!v.isObject(attributes)) {\n          return attributes;\n        }\n\n        var ret = v.extend({}, attributes)\n          , w\n          , attribute;\n\n        for (attribute in attributes) {\n          w = whitelist[attribute];\n\n          if (v.isObject(w)) {\n            ret[attribute] = cleanRecursive(ret[attribute], w);\n          } else if (!w) {\n            delete ret[attribute];\n          }\n        }\n        return ret;\n      }\n\n      if (!v.isObject(whitelist) || !v.isObject(attributes)) {\n        return {};\n      }\n\n      whitelist = buildObjectWhitelist(whitelist);\n      return cleanRecursive(attributes, whitelist);\n    },\n\n    exposeModule: function(validate, root, exports, module, define) {\n      if (exports) {\n        if (module && module.exports) {\n          exports = module.exports = validate;\n        }\n        exports.validate = validate;\n      } else {\n        root.validate = validate;\n        if (validate.isFunction(define) && define.amd) {\n          define([], function () { return validate; });\n        }\n      }\n    },\n\n    warn: function(msg) {\n      if (typeof console !== \"undefined\" && console.warn) {\n        console.warn(\"[validate.js] \" + msg);\n      }\n    },\n\n    error: function(msg) {\n      if (typeof console !== \"undefined\" && console.error) {\n        console.error(\"[validate.js] \" + msg);\n      }\n    }\n  });\n\n  validate.validators = {\n    // Presence validates that the value isn't empty\n    presence: function(value, options) {\n      options = v.extend({}, this.options, options);\n      if (options.allowEmpty !== false ? !v.isDefined(value) : v.isEmpty(value)) {\n        return options.message || this.message || \"can't be blank\";\n      }\n    },\n    length: function(value, options, attribute) {\n      // Empty values are allowed\n      if (!v.isDefined(value)) {\n        return;\n      }\n\n      options = v.extend({}, this.options, options);\n\n      var is = options.is\n        , maximum = options.maximum\n        , minimum = options.minimum\n        , tokenizer = options.tokenizer || function(val) { return val; }\n        , err\n        , errors = [];\n\n      value = tokenizer(value);\n      var length = value.length;\n      if(!v.isNumber(length)) {\n        return options.message || this.notValid || \"has an incorrect length\";\n      }\n\n      // Is checks\n      if (v.isNumber(is) && length !== is) {\n        err = options.wrongLength ||\n          this.wrongLength ||\n          \"is the wrong length (should be %{count} characters)\";\n        errors.push(v.format(err, {count: is}));\n      }\n\n      if (v.isNumber(minimum) && length < minimum) {\n        err = options.tooShort ||\n          this.tooShort ||\n          \"is too short (minimum is %{count} characters)\";\n        errors.push(v.format(err, {count: minimum}));\n      }\n\n      if (v.isNumber(maximum) && length > maximum) {\n        err = options.tooLong ||\n          this.tooLong ||\n          \"is too long (maximum is %{count} characters)\";\n        errors.push(v.format(err, {count: maximum}));\n      }\n\n      if (errors.length > 0) {\n        return options.message || errors;\n      }\n    },\n    numericality: function(value, options, attribute, attributes, globalOptions) {\n      // Empty values are fine\n      if (!v.isDefined(value)) {\n        return;\n      }\n\n      options = v.extend({}, this.options, options);\n\n      var errors = []\n        , name\n        , count\n        , checks = {\n            greaterThan:          function(v, c) { return v > c; },\n            greaterThanOrEqualTo: function(v, c) { return v >= c; },\n            equalTo:              function(v, c) { return v === c; },\n            lessThan:             function(v, c) { return v < c; },\n            lessThanOrEqualTo:    function(v, c) { return v <= c; },\n            divisibleBy:          function(v, c) { return v % c === 0; }\n          }\n        , prettify = options.prettify ||\n          (globalOptions && globalOptions.prettify) ||\n          v.prettify;\n\n      // Strict will check that it is a valid looking number\n      if (v.isString(value) && options.strict) {\n        var pattern = \"^-?(0|[1-9]\\\\d*)\";\n        if (!options.onlyInteger) {\n          pattern += \"(\\\\.\\\\d+)?\";\n        }\n        pattern += \"$\";\n\n        if (!(new RegExp(pattern).test(value))) {\n          return options.message ||\n            options.notValid ||\n            this.notValid ||\n            this.message ||\n            \"must be a valid number\";\n        }\n      }\n\n      // Coerce the value to a number unless we're being strict.\n      if (options.noStrings !== true && v.isString(value) && !v.isEmpty(value)) {\n        value = +value;\n      }\n\n      // If it's not a number we shouldn't continue since it will compare it.\n      if (!v.isNumber(value)) {\n        return options.message ||\n          options.notValid ||\n          this.notValid ||\n          this.message ||\n          \"is not a number\";\n      }\n\n      // Same logic as above, sort of. Don't bother with comparisons if this\n      // doesn't pass.\n      if (options.onlyInteger && !v.isInteger(value)) {\n        return options.message ||\n          options.notInteger ||\n          this.notInteger ||\n          this.message ||\n          \"must be an integer\";\n      }\n\n      for (name in checks) {\n        count = options[name];\n        if (v.isNumber(count) && !checks[name](value, count)) {\n          // This picks the default message if specified\n          // For example the greaterThan check uses the message from\n          // this.notGreaterThan so we capitalize the name and prepend \"not\"\n          var key = \"not\" + v.capitalize(name);\n          var msg = options[key] ||\n            this[key] ||\n            this.message ||\n            \"must be %{type} %{count}\";\n\n          errors.push(v.format(msg, {\n            count: count,\n            type: prettify(name)\n          }));\n        }\n      }\n\n      if (options.odd && value % 2 !== 1) {\n        errors.push(options.notOdd ||\n            this.notOdd ||\n            this.message ||\n            \"must be odd\");\n      }\n      if (options.even && value % 2 !== 0) {\n        errors.push(options.notEven ||\n            this.notEven ||\n            this.message ||\n            \"must be even\");\n      }\n\n      if (errors.length) {\n        return options.message || errors;\n      }\n    },\n    datetime: v.extend(function(value, options) {\n      if (!v.isFunction(this.parse) || !v.isFunction(this.format)) {\n        throw new Error(\"Both the parse and format functions needs to be set to use the datetime/date validator\");\n      }\n\n      // Empty values are fine\n      if (!v.isDefined(value)) {\n        return;\n      }\n\n      options = v.extend({}, this.options, options);\n\n      var err\n        , errors = []\n        , earliest = options.earliest ? this.parse(options.earliest, options) : NaN\n        , latest = options.latest ? this.parse(options.latest, options) : NaN;\n\n      value = this.parse(value, options);\n\n      // 86400000 is the number of milliseconds in a day, this is used to remove\n      // the time from the date\n      if (isNaN(value) || options.dateOnly && value % 86400000 !== 0) {\n        err = options.notValid ||\n          options.message ||\n          this.notValid ||\n          \"must be a valid date\";\n        return v.format(err, {value: arguments[0]});\n      }\n\n      if (!isNaN(earliest) && value < earliest) {\n        err = options.tooEarly ||\n          options.message ||\n          this.tooEarly ||\n          \"must be no earlier than %{date}\";\n        err = v.format(err, {\n          value: this.format(value, options),\n          date: this.format(earliest, options)\n        });\n        errors.push(err);\n      }\n\n      if (!isNaN(latest) && value > latest) {\n        err = options.tooLate ||\n          options.message ||\n          this.tooLate ||\n          \"must be no later than %{date}\";\n        err = v.format(err, {\n          date: this.format(latest, options),\n          value: this.format(value, options)\n        });\n        errors.push(err);\n      }\n\n      if (errors.length) {\n        return v.unique(errors);\n      }\n    }, {\n      parse: null,\n      format: null\n    }),\n    date: function(value, options) {\n      options = v.extend({}, options, {dateOnly: true});\n      return v.validators.datetime.call(v.validators.datetime, value, options);\n    },\n    format: function(value, options) {\n      if (v.isString(options) || (options instanceof RegExp)) {\n        options = {pattern: options};\n      }\n\n      options = v.extend({}, this.options, options);\n\n      var message = options.message || this.message || \"is invalid\"\n        , pattern = options.pattern\n        , match;\n\n      // Empty values are allowed\n      if (!v.isDefined(value)) {\n        return;\n      }\n      if (!v.isString(value)) {\n        return message;\n      }\n\n      if (v.isString(pattern)) {\n        pattern = new RegExp(options.pattern, options.flags);\n      }\n      match = pattern.exec(value);\n      if (!match || match[0].length != value.length) {\n        return message;\n      }\n    },\n    inclusion: function(value, options) {\n      // Empty values are fine\n      if (!v.isDefined(value)) {\n        return;\n      }\n      if (v.isArray(options)) {\n        options = {within: options};\n      }\n      options = v.extend({}, this.options, options);\n      if (v.contains(options.within, value)) {\n        return;\n      }\n      var message = options.message ||\n        this.message ||\n        \"^%{value} is not included in the list\";\n      return v.format(message, {value: value});\n    },\n    exclusion: function(value, options) {\n      // Empty values are fine\n      if (!v.isDefined(value)) {\n        return;\n      }\n      if (v.isArray(options)) {\n        options = {within: options};\n      }\n      options = v.extend({}, this.options, options);\n      if (!v.contains(options.within, value)) {\n        return;\n      }\n      var message = options.message || this.message || \"^%{value} is restricted\";\n      if (v.isString(options.within[value])) {\n        value = options.within[value];\n      }\n      return v.format(message, {value: value});\n    },\n    email: v.extend(function(value, options) {\n      options = v.extend({}, this.options, options);\n      var message = options.message || this.message || \"is not a valid email\";\n      // Empty values are fine\n      if (!v.isDefined(value)) {\n        return;\n      }\n      if (!v.isString(value)) {\n        return message;\n      }\n      if (!this.PATTERN.exec(value)) {\n        return message;\n      }\n    }, {\n      PATTERN: /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i\n    }),\n    equality: function(value, options, attribute, attributes, globalOptions) {\n      if (!v.isDefined(value)) {\n        return;\n      }\n\n      if (v.isString(options)) {\n        options = {attribute: options};\n      }\n      options = v.extend({}, this.options, options);\n      var message = options.message ||\n        this.message ||\n        \"is not equal to %{attribute}\";\n\n      if (v.isEmpty(options.attribute) || !v.isString(options.attribute)) {\n        throw new Error(\"The attribute must be a non empty string\");\n      }\n\n      var otherValue = v.getDeepObjectValue(attributes, options.attribute)\n        , comparator = options.comparator || function(v1, v2) {\n          return v1 === v2;\n        }\n        , prettify = options.prettify ||\n          (globalOptions && globalOptions.prettify) ||\n          v.prettify;\n\n      if (!comparator(value, otherValue, options, attribute, attributes)) {\n        return v.format(message, {attribute: prettify(options.attribute)});\n      }\n    },\n    // A URL validator that is used to validate URLs with the ability to\n    // restrict schemes and some domains.\n    url: function(value, options) {\n      if (!v.isDefined(value)) {\n        return;\n      }\n\n      options = v.extend({}, this.options, options);\n\n      var message = options.message || this.message || \"is not a valid url\"\n        , schemes = options.schemes || this.schemes || ['http', 'https']\n        , allowLocal = options.allowLocal || this.allowLocal || false\n        , allowDataUrl = options.allowDataUrl || this.allowDataUrl || false;\n      if (!v.isString(value)) {\n        return message;\n      }\n\n      // https://gist.github.com/dperini/729294\n      var regex =\n        \"^\" +\n        // protocol identifier\n        \"(?:(?:\" + schemes.join(\"|\") + \")://)\" +\n        // user:pass authentication\n        \"(?:\\\\S+(?::\\\\S*)?@)?\" +\n        \"(?:\";\n\n      var tld = \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\";\n\n      if (allowLocal) {\n        tld += \"?\";\n      } else {\n        regex +=\n          // IP address exclusion\n          // private & local networks\n          \"(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})\" +\n          \"(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})\" +\n          \"(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})\";\n      }\n\n      regex +=\n          // IP address dotted notation octets\n          // excludes loopback network 0.0.0.0\n          // excludes reserved space >= 224.0.0.0\n          // excludes network & broacast addresses\n          // (first & last IP address of each class)\n          \"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" +\n          \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" +\n          \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" +\n        \"|\" +\n          // host name\n          \"(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)\" +\n          // domain name\n          \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*\" +\n          tld +\n        \")\" +\n        // port number\n        \"(?::\\\\d{2,5})?\" +\n        // resource path\n        \"(?:[/?#]\\\\S*)?\" +\n      \"$\";\n\n      if (allowDataUrl) {\n        // RFC 2397\n        var mediaType = \"\\\\w+\\\\/[-+.\\\\w]+(?:;[\\\\w=]+)*\";\n        var urlchar = \"[A-Za-z0-9-_.!~\\\\*'();\\\\/?:@&=+$,%]*\";\n        var dataurl = \"data:(?:\"+mediaType+\")?(?:;base64)?,\"+urlchar;\n        regex = \"(?:\"+regex+\")|(?:^\"+dataurl+\"$)\";\n      }\n\n      var PATTERN = new RegExp(regex, 'i');\n      if (!PATTERN.exec(value)) {\n        return message;\n      }\n    },\n    type: v.extend(function(value, originalOptions, attribute, attributes, globalOptions) {\n      if (v.isString(originalOptions)) {\n        originalOptions = {type: originalOptions};\n      }\n\n      if (!v.isDefined(value)) {\n        return;\n      }\n\n      var options = v.extend({}, this.options, originalOptions);\n\n      var type = options.type;\n      if (!v.isDefined(type)) {\n        throw new Error(\"No type was specified\");\n      }\n\n      var check;\n      if (v.isFunction(type)) {\n        check = type;\n      } else {\n        check = this.types[type];\n      }\n\n      if (!v.isFunction(check)) {\n        throw new Error(\"validate.validators.type.types.\" + type + \" must be a function.\");\n      }\n\n      if (!check(value, options, attribute, attributes, globalOptions)) {\n        var message = originalOptions.message ||\n          this.messages[type] ||\n          this.message ||\n          options.message ||\n          (v.isFunction(type) ? \"must be of the correct type\" : \"must be of type %{type}\");\n\n        if (v.isFunction(message)) {\n          message = message(value, originalOptions, attribute, attributes, globalOptions);\n        }\n\n        return v.format(message, {attribute: v.prettify(attribute), type: type});\n      }\n    }, {\n      types: {\n        object: function(value) {\n          return v.isObject(value) && !v.isArray(value);\n        },\n        array: v.isArray,\n        integer: v.isInteger,\n        number: v.isNumber,\n        string: v.isString,\n        date: v.isDate,\n        boolean: v.isBoolean\n      },\n      messages: {}\n    })\n  };\n\n  validate.formatters = {\n    detailed: function(errors) {return errors;},\n    flat: v.flattenErrorsToArray,\n    grouped: function(errors) {\n      var attr;\n\n      errors = v.groupErrorsByAttribute(errors);\n      for (attr in errors) {\n        errors[attr] = v.flattenErrorsToArray(errors[attr]);\n      }\n      return errors;\n    },\n    constraint: function(errors) {\n      var attr;\n      errors = v.groupErrorsByAttribute(errors);\n      for (attr in errors) {\n        errors[attr] = errors[attr].map(function(result) {\n          return result.validator;\n        }).sort();\n      }\n      return errors;\n    }\n  };\n\n  validate.exposeModule(validate, this, exports, module, define);\n}).call(this,\n        typeof exports !== 'undefined' ? /* istanbul ignore next */ exports : null,\n        typeof module !== 'undefined' ? /* istanbul ignore next */ module : null,\n        typeof define !== 'undefined' ? /* istanbul ignore next */ define : null);\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axios_1 = require(\"axios\");\nvar events_1 = require(\"events\");\nvar default_1 = require(\"../../config/default\");\nvar loggerHelper_1 = require(\"../../lib/loggerHelper\");\nvar flagshipSdkHelper_1 = require(\"../../lib/flagshipSdkHelper\");\nvar Bucketing = /** @class */ (function (_super) {\n    __extends(Bucketing, _super);\n    function Bucketing(envId, config, panic) {\n        var _this = _super.call(this) || this;\n        _this.panic = panic;\n        _this.config = config;\n        _this.log = loggerHelper_1.default.getLogger(_this.config, \"Flagship SDK - Bucketing\");\n        _this.envId = envId;\n        _this.data = (config.initialBucketing && flagshipSdkHelper_1.default.checkBucketingApiResponse(config.initialBucketing, _this.log)) || null;\n        _this.isPollingRunning = false;\n        _this.lastModifiedDate = (_this.data && _this.data.lastModifiedDate) || null;\n        // init listeners\n        _this.on('launched', function ( /* {status} */) {\n            if (flagshipSdkHelper_1.default.checkPollingIntervalValue(_this.config.pollingInterval) === 'ok' && _this.isPollingRunning) {\n                _this.log.debug(\"startPolling - polling finished successfully. Next polling in \" + _this.config.pollingInterval + \" minute(s)\");\n                setTimeout(function () {\n                    if (_this.isPollingRunning) {\n                        _this.pollingMechanism();\n                    }\n                    else {\n                        _this.log.debug('on(\"launched\") listener - bucketing stop detected.');\n                    }\n                }, _this.config.pollingInterval * 1000); // nbSeconds * 1000 ms\n            } // no need to do logs on \"else\" statement because already done before\n        });\n        _this.on('error', function (error) {\n            if (flagshipSdkHelper_1.default.checkPollingIntervalValue(_this.config.pollingInterval) === 'ok' && _this.isPollingRunning) {\n                _this.log.error(\"startPolling - polling failed with error \\\"\" + error + \"\\\". Next polling in \" + _this.config.pollingInterval + \" minute(s)\");\n                setTimeout(function () {\n                    _this.pollingMechanism();\n                }, _this.config.pollingInterval * 60 * 1000);\n            }\n        });\n        return _this;\n    }\n    Bucketing.validateStatus = function (status) {\n        return status < 400; // Resolve only if the status code is less than 400\n    };\n    Bucketing.prototype.callApi = function () {\n        var _this = this;\n        var axiosConfig = {\n            headers: {\n                'If-Modified-Since': this.lastModifiedDate !== null ? this.lastModifiedDate : ''\n            },\n            validateStatus: Bucketing.validateStatus\n        };\n        var url = default_1.internalConfig.bucketingEndpoint.replace('@ENV_ID@', this.envId);\n        return axios_1.default.get(url, axiosConfig)\n            .then(function (_a) {\n            var bucketingData = _a.data, status = _a.status, other = __rest(_a, [\"data\", \"status\"]);\n            _this.panic.checkPanicMode(bucketingData);\n            if (!_this.panic.enabled) {\n                if (status === 304) {\n                    _this.log.info(\"callApi - current bucketing up to date (api status=304)\");\n                }\n                else if (status === 200) {\n                    if (!other.headers['last-modified']) {\n                        _this.log.warn(\"callApi - http GET request (url=\\\"\" + url + \"\\\") did not return attribute \\\"last-modified\\\"\");\n                    }\n                    else {\n                        _this.lastModifiedDate = other.headers['last-modified'];\n                    }\n                    _this.log.info(\"callApi - current bucketing updated\");\n                    _this.data = __assign(__assign({}, bucketingData), { lastModifiedDate: _this.lastModifiedDate });\n                }\n                else {\n                    _this.log.error(\"callApi - unexpected status (=\\\"\" + status + \"\\\") received. This polling will be ignored.\");\n                }\n            }\n            _this.emit('launched', { status: status });\n            return bucketingData;\n        })\n            .catch(function (response) {\n            _this.log.fatal('An error occurred while fetching using bucketing...');\n            _this.emit('error', response);\n        });\n    };\n    Bucketing.prototype.stopPolling = function () {\n        this.isPollingRunning = false;\n    };\n    Bucketing.prototype.pollingMechanism = function () {\n        switch (flagshipSdkHelper_1.default.checkPollingIntervalValue(this.config.pollingInterval)) {\n            case 'ok':\n                this.isPollingRunning = true;\n                this.log.debug(\"startPolling - starting a new polling...\");\n                this.callApi();\n                break;\n            case 'notSupported':\n                this.isPollingRunning = false;\n                this.log.error(\"startPolling - The \\\"pollingInterval\\\" setting has value=\\\"\" + this.config.pollingInterval + \"\\\" and type=\\\"\" + typeof this.config\n                    .pollingInterval + \"\\\" which is not supported. The setting will be ignored and the bucketing api will be called only once for initialization.)\");\n                this.callApi();\n                break;\n            case 'underLimit':\n            default:\n                this.isPollingRunning = false;\n                this.log.error(\"startPolling - The \\\"pollingInterval\\\" setting is below the limit (\" + default_1.internalConfig.pollingIntervalMinValue + \" second). The setting will be ignored and the bucketing api will be called only once for initialization.\");\n                this.callApi();\n        }\n    };\n    Bucketing.prototype.startPolling = function () {\n        if (this.isPollingRunning) {\n            this.log.warn('startPolling - already running');\n            return;\n        }\n        if (this.data === null) {\n            this.log.debug('startPolling - initializing bucket');\n        }\n        this.pollingMechanism();\n    };\n    return Bucketing;\n}(events_1.EventEmitter));\nexports.default = Bucketing;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_native_murmurhash_1 = require(\"react-native-murmurhash\");\nvar loggerHelper_1 = require(\"../../lib/loggerHelper\");\nvar flagshipSdkHelper_1 = require(\"../../lib/flagshipSdkHelper\");\nvar BucketingVisitor = /** @class */ (function () {\n    function BucketingVisitor(envId, visitorId, visitorContext, config, globalBucket) {\n        var bucketingData = globalBucket.data;\n        this.config = config;\n        this.visitorId = visitorId;\n        this.visitorContext = visitorContext;\n        this.global = globalBucket;\n        this.log = loggerHelper_1.default.getLogger(this.config, \"Flagship SDK - Bucketing (visitorId=\" + this.visitorId + \")\");\n        this.envId = envId;\n        this.data = bucketingData || null;\n        this.computedData = bucketingData ? { visitorId: this.visitorId, campaigns: this.getEligibleCampaigns() } : null;\n    }\n    BucketingVisitor.transformIntoDecisionApiPayload = function (variation, campaign, variationGroupId) {\n        return {\n            id: campaign.id,\n            variationGroupId: variationGroupId,\n            variation: {\n                id: variation.id,\n                // reference: variation.reference,\n                modifications: __assign({}, variation.modifications)\n            }\n        };\n    };\n    BucketingVisitor.prototype.updateCache = function () {\n        if (this.data !== this.global.data) {\n            this.log.debug('Updating cache.');\n            this.data = this.global.data;\n            this.computedData = { visitorId: this.visitorId, campaigns: this.getEligibleCampaigns() };\n            return true; // an update has been done\n        }\n        return true; // no updates needed\n    };\n    BucketingVisitor.prototype.updateVisitorContext = function (newContext) {\n        this.log.debug(\"Updating bucketing visitor context from \" + JSON.stringify(this.visitorContext) + \" to \" + JSON.stringify(newContext));\n        this.visitorContext = flagshipSdkHelper_1.default.checkVisitorContext(newContext, this.log);\n    };\n    BucketingVisitor.prototype.computeMurmurAlgorithm = function (variations, variationGroupId) {\n        var assignedVariation = null;\n        // generates a v3 hash\n        var murmurAllocation = react_native_murmurhash_1.MurmurHashV3(variationGroupId + this.visitorId, undefined) % 100; // 2nd argument is set to 0 by default\n        this.log.debug(\"computeMurmurAlgorithm - murmur returned value=\\\"\" + murmurAllocation + \"\\\"\");\n        var variationTrafficCheck = variations.reduce(function (sum, v) {\n            var variationAllocation = v.allocation || 0;\n            var nextSum = variationAllocation + sum;\n            if (assignedVariation === null && murmurAllocation < nextSum) {\n                assignedVariation = v;\n            }\n            return nextSum;\n        }, 0);\n        if (variationTrafficCheck < 100) {\n            this.log.debug(\"computeMurmurAlgorithm - the total variation traffic allocation is equal to \\\"\" + variationTrafficCheck + \"\\\"\");\n            if (assignedVariation === null) {\n                this.log.info(\"computeMurmurAlgorithm - current visitor will be untracked as it is outside the total variation traffic allocation\");\n            }\n        }\n        if (variationTrafficCheck > 100) {\n            this.log.fatal(\"computeMurmurAlgorithm - the total variation traffic allocation is equal to \\\"\" + variationTrafficCheck + \"\\\" instead of being equal to \\\"100\\\"\");\n            return null;\n        }\n        return assignedVariation;\n    };\n    BucketingVisitor.prototype.getEligibleCampaigns = function () {\n        var _this = this;\n        var result = [];\n        var _a = this, visitorId = _a.visitorId, visitorContext = _a.visitorContext, log = _a.log, bucketingData = _a.data;\n        var reportIssueBetweenValueTypeAndOperator = function (type, operator) {\n            log.warn(\"getEligibleCampaigns - operator \\\"\" + operator + \"\\\" is not supported for type \\\"\" + type + \"\\\". Assertion aborted.\");\n        };\n        var checkAssertion = function (vcValue, apiValueArray, assertionCallback) {\n            return apiValueArray.map(function (apiValue) { return assertionCallback(vcValue, apiValue); }).filter(function (answer) { return answer === true; }).length > 0;\n        };\n        var computeAssertion = function (_a, compareWithVisitorId) {\n            var operator = _a.operator, key = _a.key, value = _a.value;\n            var vtc = compareWithVisitorId ? visitorId : visitorContext[key]; // vtc = 'value to compare'\n            if (typeof vtc === 'undefined' || vtc === null) {\n                log.debug(\"getEligibleCampaigns - Assertion aborted because visitor context key (=\\\"\" + key + \"\\\") does not exist\");\n                return false;\n            }\n            var checkTypeMatch = function (vcValue, apiValue, vcKey) {\n                if (typeof apiValue !== 'object' && typeof vcValue !== typeof apiValue) {\n                    log.error(\"getEligibleCampaigns - The bucketing API returned a value which have not the same type (\\\"\" + typeof vcValue + \"\\\") as the visitor context key=\\\"\" + vcKey + \"\\\"\");\n                    return false;\n                }\n                if (typeof apiValue === 'object' && !Array.isArray(apiValue)) {\n                    log.error('getEligibleCampaigns - The bucketing API returned a json object which is not supported by the SDK.');\n                    return false;\n                }\n                if (Array.isArray(apiValue)) {\n                    if (apiValue.filter(function (v) { return typeof v !== typeof vcValue; }).length > 0) {\n                        log.error(\"getEligibleCampaigns - The bucketing API returned an array where some elements do not have same type (\\\"\" + typeof vcValue + \"\\\") as the visitor context key=\\\"\" + vcKey + \"\\\"\");\n                        return false;\n                    }\n                }\n                return true;\n            };\n            switch (operator) {\n                case 'EQUALS':\n                    if (Array.isArray(value)) {\n                        return checkAssertion(vtc, value, function (a, b) { return a === b; });\n                    }\n                    return vtc === value;\n                case 'NOT_EQUALS':\n                    if (Array.isArray(value)) {\n                        return checkAssertion(vtc, value, function (a, b) { return a !== b; });\n                    }\n                    return vtc !== value;\n                case 'LOWER_THAN':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a.toLowerCase() < b.toLowerCase(); });\n                                }\n                                return vtc.toLowerCase() < value.toLowerCase();\n                            case 'number':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a < b; });\n                                }\n                                return vtc < value;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'LOWER_THAN');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'LOWER_THAN_OR_EQUALS':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a.toLowerCase() <= b.toLowerCase(); });\n                                }\n                                return vtc.toLowerCase() <= value.toLowerCase();\n                            case 'number':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a <= b; });\n                                }\n                                return vtc <= value;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'LOWER_THAN_OR_EQUALS');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'GREATER_THAN':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a.toLowerCase() > b.toLowerCase(); });\n                                }\n                                return vtc.toLowerCase() > value.toLowerCase();\n                            case 'number':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a > b; });\n                                }\n                                return vtc > value;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'GREATER_THAN');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'GREATER_THAN_OR_EQUALS':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a.toLowerCase() >= b.toLowerCase(); });\n                                }\n                                return vtc.toLowerCase() >= value.toLowerCase();\n                            case 'number':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return a >= b; });\n                                }\n                                return vtc >= value;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'GREATER_THAN_OR_EQUALS');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'STARTS_WITH':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) {\n                                        return a.toLowerCase().startsWith(b.toLowerCase());\n                                    });\n                                }\n                                return vtc.toLowerCase().startsWith(value.toLowerCase());\n                            case 'number':\n                                reportIssueBetweenValueTypeAndOperator('number', 'STARTS_WITH');\n                                return false;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'STARTS_WITH');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'ENDS_WITH':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) {\n                                        return a.toLowerCase().endsWith(b.toLowerCase());\n                                    });\n                                }\n                                return vtc.toLowerCase().endsWith(value.toLowerCase());\n                            case 'number':\n                                reportIssueBetweenValueTypeAndOperator('number', 'ENDS_WITH');\n                                return false;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'ENDS_WITH');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'CONTAINS':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) {\n                                        return a.toLowerCase().includes(b.toLowerCase());\n                                    });\n                                }\n                                return vtc.toLowerCase().includes(value.toLowerCase());\n                            case 'number':\n                                reportIssueBetweenValueTypeAndOperator('number', 'CONTAINS');\n                                return false;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'CONTAINS');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                case 'NOT_CONTAINS':\n                    if (checkTypeMatch(vtc, value, key)) {\n                        switch (typeof vtc) {\n                            case 'string':\n                                if (Array.isArray(value)) {\n                                    return checkAssertion(vtc, value, function (a, b) { return !a.toLowerCase().includes(b.toLowerCase()); });\n                                }\n                                return !vtc.toLowerCase().includes(value.toLowerCase());\n                            case 'number':\n                                reportIssueBetweenValueTypeAndOperator('number', 'NOT_CONTAINS');\n                                return false;\n                            case 'boolean':\n                            default:\n                                reportIssueBetweenValueTypeAndOperator('boolean', 'NOT_CONTAINS');\n                                return false;\n                        }\n                    }\n                    else {\n                        return false; // error message send with \"checkTypeMatch\" function\n                    }\n                default:\n                    log.error(\"getEligibleCampaigns - unknown operator \\\"\" + operator + \"\\\" found in bucketing api answer. Assertion aborted.\");\n                    return false;\n            }\n        };\n        if (!bucketingData || !bucketingData.campaigns) {\n            log.warn('getEligibleCampaigns - no bucketing data found');\n            return result;\n        }\n        bucketingData.campaigns.forEach(function (campaign) {\n            var matchingVgId = null;\n            // take the FIRST variation group which match the visitor context\n            campaign.variationGroups.forEach(function (vg) {\n                if (matchingVgId === null) {\n                    var operatorOrBox_1 = [];\n                    // each variation group is a 'OR' condition\n                    vg.targeting.targetingGroups.forEach(function (tg) {\n                        var operatorAndBox = [];\n                        // each variation group is a 'OR' condition\n                        tg.targetings.forEach(function (targeting) {\n                            switch (targeting.key) {\n                                case 'fs_all_users':\n                                    operatorAndBox.push(true);\n                                    break;\n                                case 'fs_users':\n                                    operatorAndBox.push(computeAssertion(targeting, true));\n                                    break;\n                                default:\n                                    operatorAndBox.push(computeAssertion(targeting, false));\n                                    break;\n                            }\n                        });\n                        operatorOrBox_1.push(operatorAndBox.filter(function (answer) { return answer !== true; }).length === 0);\n                    });\n                    matchingVgId = operatorOrBox_1.filter(function (answer) { return answer === true; }).length > 0 ? vg.id : null;\n                }\n            });\n            if (matchingVgId !== null) {\n                log.debug(\"Bucketing - campaign (id=\\\"\" + campaign.id + \"\\\") is matching visitor context\");\n                var cleanCampaign = __assign(__assign({}, campaign), { variationGroups: campaign.variationGroups.filter(function (varGroup) { return varGroup.id === matchingVgId; }) }); // = campaign with only the desired variation group\n                var variationToAffectToVisitor = _this.computeMurmurAlgorithm(cleanCampaign.variationGroups[0].variations, matchingVgId);\n                if (variationToAffectToVisitor !== null) {\n                    result.push(BucketingVisitor.transformIntoDecisionApiPayload(variationToAffectToVisitor, campaign, matchingVgId));\n                }\n                else {\n                    log.debug(\"computeMurmurAlgorithm - Unable to find the corresponding variation (campaignId=\\\"\" + campaign.id + \"\\\") using murmur for visitor (id=\\\"\" + visitorId + \"\\\"). This visitor will be untracked.\");\n                }\n            }\n            else {\n                log.debug(\"Bucketing - campaign (id=\\\"\" + campaign.id + \"\\\") NOT MATCHING visitor\");\n            }\n        });\n        return result;\n    };\n    return BucketingVisitor;\n}());\nexports.default = BucketingVisitor;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = require(\"events\");\nvar default_1 = require(\"../../config/default\");\nvar flagshipSdkHelper_1 = require(\"../../lib/flagshipSdkHelper\");\nvar loggerHelper_1 = require(\"../../lib/loggerHelper\");\nvar bucketing_1 = require(\"../bucketing/bucketing\");\nvar flagshipVisitor_1 = require(\"../flagshipVisitor/flagshipVisitor\");\nvar panicMode_1 = require(\"../panicMode/panicMode\");\nvar utils_1 = require(\"../../lib/utils\");\nvar Flagship = /** @class */ (function () {\n    function Flagship(envId, apiKey, config) {\n        if (config === void 0) { config = {}; }\n        var _a = flagshipSdkHelper_1.default.checkConfig(config, apiKey), cleanCustomConfig = _a.cleanConfig, ignoredConfig = _a.ignoredConfig;\n        this.config = __assign(__assign({}, default_1.default), cleanCustomConfig);\n        this.log = loggerHelper_1.default.getLogger(this.config);\n        this.eventEmitter = new events_1.EventEmitter();\n        this.bucket = null;\n        this.panic = new panicMode_1.default(this.config);\n        this.envId = envId;\n        if (!apiKey) {\n            this.log.warn('WARNING: \"start\" function signature will change in the next major release. \"start(envId, settings)\" will be \"start(envId, apiKey, settings)\", please make this change ASAP!');\n        }\n        else if (this.config && this.config.apiKey && flagshipSdkHelper_1.default.isUsingFlagshipApi('v1', this.config)) {\n            // force API v2 if apiKey is set, whatever how\n            this.config.flagshipApi = default_1.internalConfig.apiV2;\n            this.log.debug('apiKey detected, forcing the use of Flagship api V2');\n        }\n        if (cleanCustomConfig) {\n            this.log.debug('Custom flagship SDK config attribute(s) detected');\n        }\n        if (this.config.decisionMode === 'Bucketing') {\n            this.bucket = new bucketing_1.default(this.envId, this.config, this.panic);\n            if (this.config.fetchNow) {\n                this.startBucketingPolling();\n            }\n        }\n        // logs adjustment made on settings\n        flagshipSdkHelper_1.default.logIgnoredAttributesFromObject(ignoredConfig, this.log, 'custom flagship SDK config');\n        if (config.timeout && config.timeout !== this.config.timeout) {\n            this.log.warn(\"\\\"timeout\\\" setting is incorrect (value specified =>\\\"\" + config.timeout + \"\\\"). The default value (=\" + this.config.timeout + \" seconds) has been set instead.\");\n        }\n    }\n    Flagship.prototype.newVisitor = function (id, context) {\n        var _this = this;\n        var logBook = {\n            API: {\n                newVisitorInfo: \"new visitor (id=\\\"\" + id + \"\\\") calling decision API for initialization (waiting to be ready...)\",\n                modificationSuccess: \"new visitor (id=\\\"\" + id + \"\\\") decision API finished (ready !)\",\n                modificationFailed: function (error) {\n                    return \"new visitor (id=\\\"\" + id + \"\\\") decision API failed during initialization with error \\\"\" + error + \"\\\"\";\n                }\n            },\n            Bucketing: {\n                newVisitorInfo: \"new visitor (id=\\\"\" + id + \"\\\") check for existing bucketing data (waiting to be ready...)\",\n                modificationSuccess: \"new visitor (id=\\\"\" + id + \"\\\") (ready !)\"\n            }\n        };\n        this.log.info(\"Creating new visitor (id=\\\"\" + id + \"\\\")\");\n        var flagshipVisitorInstance = new flagshipVisitor_1.default(this.envId, this.config, this.bucket, id, context, this.panic);\n        if (this.config.fetchNow || this.config.activateNow) {\n            this.log.info(logBook[this.config.decisionMode].newVisitorInfo);\n            flagshipVisitorInstance\n                .getAllModifications(this.config.activateNow, { force: true })\n                .then(function () {\n                _this.log.info(logBook[_this.config.decisionMode].modificationSuccess);\n                flagshipVisitorInstance.callEventEndpoint();\n                flagshipVisitorInstance.emit('ready');\n            })\n                .catch(function (response) {\n                if (_this.config.decisionMode !== 'Bucketing') {\n                    _this.log.fatal(logBook[_this.config.decisionMode].modificationFailed(response));\n                }\n                flagshipVisitorInstance.emit('ready');\n            });\n        }\n        else {\n            // Before emit('ready'), make sure there is listener to it\n            flagshipVisitorInstance.once('newListener', function (event, listener) {\n                if (event === 'ready') {\n                    listener();\n                }\n            });\n        }\n        return flagshipVisitorInstance;\n    };\n    // Pre-req: envId + visitorId must be the same\n    /**\n     * @returns {IFlagshipVisitor}\n     * @description Used internally only. Don't use it outside the SDK !\n     */\n    Flagship.prototype.updateVisitor = function (visitorInstance, context) {\n        this.log.debug(\"updateVisitor - updating visitor (id=\\\"\" + visitorInstance.id + \"\\\")\");\n        var flagshipVisitorInstance = new flagshipVisitor_1.default(this.envId, this.config, this.bucket, visitorInstance.id, context, this.panic, visitorInstance);\n        if (((!utils_1.default.deepCompare(visitorInstance.context, context) || flagshipVisitorInstance.fetchedModifications === null) &&\n            this.config.fetchNow) ||\n            this.config.activateNow) {\n            this.log.debug(\"updateVisitor - visitor(id=\\\"\" + visitorInstance.id + \"\\\") does not have modifications or context has changed + (fetchNow=\" + this.config.fetchNow + \" || activateNow=\" + this.config.activateNow + \") detected, trying a synchronize...\");\n            flagshipVisitorInstance\n                .synchronizeModifications(this.config.activateNow)\n                .then(function () {\n                flagshipVisitorInstance.emit('ready');\n            })\n                .catch(function () {\n                flagshipVisitorInstance.emit('ready');\n            });\n        }\n        else {\n            flagshipVisitorInstance.once('newListener', function (event, listener) {\n                if (event === 'ready') {\n                    listener();\n                }\n            });\n        }\n        return flagshipVisitorInstance;\n    };\n    Flagship.prototype.startBucketingPolling = function () {\n        var _this = this;\n        if (this.bucket !== null && !this.bucket.isPollingRunning) {\n            this.bucket.startPolling();\n            this.bucket.on('launched', function (_a) {\n                var status = _a.status;\n                _this.eventEmitter.emit('bucketPollingSuccess', {\n                    status: status,\n                    payload: _this.bucket.data\n                });\n            });\n            this.bucket.on('error', function (error) {\n                _this.eventEmitter.emit('bucketPollingFailed', error);\n            });\n            return {\n                success: true\n            };\n        }\n        if (this.bucket !== null && this.bucket.isPollingRunning) {\n            this.log.warn(\"startBucketingPolling - bucket already polling with interval set to \\\"\" + this.config.pollingInterval + \"\\\" minute(s).\");\n            return {\n                success: false,\n                reason: \"startBucketingPolling - bucket already polling with interval set to \\\"\" + this.config.pollingInterval + \"\\\" minute(s).\"\n            };\n        }\n        this.log.error('startBucketingPolling - bucket not initialized, make sure \"decisionMode\" is set to \"Bucketing\"');\n        return {\n            success: false,\n            reason: 'startBucketingPolling - bucket not initialized, make sure \"decisionMode\" is set to \"Bucketing\"'\n        };\n    };\n    Flagship.prototype.stopBucketingPolling = function () {\n        if (this.bucket !== null && this.bucket.isPollingRunning) {\n            this.bucket.stopPolling();\n            this.log.info('stopBucketingPolling - bucketing is stopped');\n            return {\n                success: true\n            };\n        }\n        this.log.info('stopBucketingPolling - bucketing is already stopped');\n        return {\n            success: false,\n            reason: 'stopBucketingPolling - bucketing is already stopped'\n        };\n    };\n    return Flagship;\n}());\nexports.default = Flagship;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axios_1 = require(\"axios\");\nvar events_1 = require(\"events\");\nvar flagshipSdkHelper_1 = require(\"../../lib/flagshipSdkHelper\");\nvar loggerHelper_1 = require(\"../../lib/loggerHelper\");\nvar bucketingVisitor_1 = require(\"../bucketingVisitor/bucketingVisitor\");\nvar FlagshipVisitor = /** @class */ (function (_super) {\n    __extends(FlagshipVisitor, _super);\n    function FlagshipVisitor(envId, config, bucket, id, context, panic, previousVisitorInstance) {\n        if (context === void 0) { context = {}; }\n        if (previousVisitorInstance === void 0) { previousVisitorInstance = null; }\n        var _this = _super.call(this) || this;\n        _this.panic = panic;\n        _this.config = config;\n        _this.id = id;\n        _this.log = loggerHelper_1.default.getLogger(_this.config, \"Flagship SDK - visitorId:\" + _this.id);\n        _this.envId = envId;\n        _this.context = flagshipSdkHelper_1.default.checkVisitorContext(context, _this.log);\n        _this.isAllModificationsFetched = previousVisitorInstance ? previousVisitorInstance.isAllModificationsFetched : false;\n        _this.bucket = null;\n        // initialize \"fetchedModifications\" and \"modificationsDetails\"\n        if (previousVisitorInstance) {\n            _this.fetchedModifications = previousVisitorInstance ? previousVisitorInstance.fetchedModifications : null;\n            _this.modificationsInternalStatus = previousVisitorInstance ? previousVisitorInstance.modificationsInternalStatus : null;\n        }\n        else if (config.initialModifications) {\n            _this.saveModificationsInCache(config.initialModifications);\n        }\n        else {\n            _this.fetchedModifications = null;\n            _this.modificationsInternalStatus = null;\n        }\n        if (_this.config.decisionMode === 'Bucketing') {\n            _this.bucket = new bucketingVisitor_1.default(_this.envId, _this.id, _this.context, _this.config, bucket);\n        }\n        return _this;\n    }\n    FlagshipVisitor.prototype.activateCampaign = function (variationId, variationGroupId, customLogs) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            flagshipSdkHelper_1.default\n                .postFlagshipApi({\n                panic: _this.panic,\n                config: _this.config,\n                log: _this.log,\n                endpoint: _this.config.flagshipApi + \"activate\",\n                params: {\n                    vid: _this.id,\n                    cid: _this.envId,\n                    caid: variationGroupId,\n                    vaid: variationId\n                }\n            })\n                .then(function (response) {\n                var successLog = \"VariationId \\\"\" + variationId + \"\\\" successfully activate with status code:\" + response.status;\n                if (customLogs && customLogs.success) {\n                    successLog = customLogs.success + \" with status code \\\"\" + response.status + \"\\\"\";\n                }\n                _this.log.debug(successLog);\n                resolve({ status: 200 });\n            })\n                .catch(function (error) {\n                var failLog = \"Trigger activate of variationId \\\"\" + variationId + \"\\\" failed with error \\\"\" + error + \"\\\"\";\n                if (customLogs && customLogs.fail) {\n                    failLog = customLogs.fail + \" failed with error \\\"\" + error + \"\\\"\";\n                }\n                _this.log.fatal(failLog);\n                reject(error);\n            });\n        });\n    };\n    FlagshipVisitor.prototype.activateModifications = function (modifications) {\n        if (this.panic.shouldRunSafeMode('activateModifications')) {\n            return;\n        }\n        var modificationsRequested = modifications.reduce(function (output, _a) {\n            var key = _a.key;\n            return __spreadArrays(output, [{ key: key, defaultValue: '', activate: true }]);\n        }, []);\n        if (this.fetchedModifications) {\n            var detailsModifications = this.extractDesiredModifications(this.fetchedModifications, modificationsRequested).detailsModifications;\n            this.triggerActivateIfNeeded(detailsModifications);\n        }\n    };\n    FlagshipVisitor.prototype.triggerActivateIfNeeded = function (detailsModifications, activateAll) {\n        var _this = this;\n        if (detailsModifications === void 0) { detailsModifications = null; }\n        if (activateAll === void 0) { activateAll = false; }\n        var campaignsActivated = [];\n        var internalModifications = this.modificationsInternalStatus;\n        var activateBooks = [];\n        var isAlreadyActivated = function (data) {\n            if (data.archived.variationGroupId.length === 0 && data.archived.variationId.length === 0) {\n                return false;\n            }\n            if (data.archived.variationGroupId[0] !== data.vgId || data.archived.variationId[0] !== data.vId) {\n                _this.log.debug(\"triggerActivateIfNeeded - detecting a new variation (id=\\\"\" + data.vId + \"\\\") (variationGroupId=\\\"\" + data.vgId + \"\\\") which activates the same key as another older variation\");\n                return false;\n            }\n            _this.log.debug(\"triggerActivateIfNeeded - variation (vgId=\\\"\" + data.vgId + \"\\\") already activated\");\n            return true;\n        };\n        if (!this.isVisitorCacheExist()) {\n            return;\n        }\n        Object.entries(detailsModifications || internalModifications).forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            return __awaiter(_this, void 0, void 0, function () {\n                var activationRequested, isAlreadyActivatedValue, alreadyExist_1;\n                return __generator(this, function (_b) {\n                    activationRequested = !!value.isActivateNeeded || activateAll;\n                    isAlreadyActivatedValue = isAlreadyActivated({\n                        vgId: value.variationGroupId[0],\n                        vId: value.variationId[0],\n                        archived: internalModifications[key].activated\n                    });\n                    if (activationRequested && !isAlreadyActivatedValue) {\n                        alreadyExist_1 = false;\n                        activateBooks.forEach(function (_a, index) {\n                            var vId = _a.vId, vgId = _a.vgId;\n                            if (vId === value.variationId[0] && vgId === value.variationGroupId[0]) {\n                                activateBooks[index].keys.push(key);\n                                alreadyExist_1 = true;\n                            }\n                        });\n                        if (!alreadyExist_1) {\n                            activateBooks.push({\n                                vgId: value.variationGroupId[0],\n                                vId: value.variationId[0],\n                                campaignId: value.campaignId[0],\n                                keys: [key]\n                            });\n                        }\n                    }\n                    return [2 /*return*/];\n                });\n            });\n        });\n        var noteKey = function (_a, shouldRemove) {\n            var keys = _a.keys, vgId = _a.vgId, vId = _a.vId;\n            if (shouldRemove === void 0) { shouldRemove = false; }\n            keys.forEach(function (key) {\n                if (shouldRemove) {\n                    _this.modificationsInternalStatus[key].activated.variationId.shift();\n                    _this.modificationsInternalStatus[key].activated.variationGroupId.shift();\n                }\n                else {\n                    _this.modificationsInternalStatus[key].activated.variationId.unshift(vId);\n                    _this.modificationsInternalStatus[key].activated.variationGroupId.unshift(vgId);\n                }\n            });\n        };\n        activateBooks.forEach(function (_a) {\n            var vId = _a.vId, vgId = _a.vgId, keys = _a.keys, campaignId = _a.campaignId;\n            campaignsActivated.push(campaignId);\n            noteKey({ vId: vId, vgId: vgId, keys: keys });\n            _this.activateCampaign(vId, vgId, {\n                success: \"Modification key(s) \\\"\" + keys.toString() + \"\\\" successfully activate.\",\n                fail: \"Trigger activate of modification key(s) \\\"\" + keys.toString() + \"\\\" failed.\"\n            }).catch(function () {\n                noteKey({ vId: vId, vgId: vgId, keys: keys }, true);\n            });\n        });\n        // Logs unexpected behavior:\n        var _a = this.checkCampaignsActivatedMultipleTimes(detailsModifications, activateAll), activateKey = _a.activateKey, activateCampaign = _a.activateCampaign;\n        Object.entries(activateKey).forEach(function (_a) {\n            var key = _a[0], count = _a[1];\n            if (count > 1) {\n                _this.log.warn(\"Key \\\"\" + key + \"\\\" has been activated \" + count + \" times because it was in conflict in further campaigns (debug logs for more details)\");\n                _this.log.debug(\"Here the details:\" + Object.entries(activateCampaign).map(function (_a) {\n                    var campaignId = _a[0], _b = _a[1], directActivate = _b.directActivate, indirectActivate = _b.indirectActivate;\n                    if (indirectActivate.includes(key)) {\n                        return \"\\n- because key \\\"\" + key + \"\\\" is also include inside campaign id=\\\"\" + campaignId + \"\\\" where key(s) \\\"\" + directActivate.map(function (item) { return item + \" \"; }) + \"\\\" is/are also requested.\";\n                    }\n                    return null;\n                }));\n            }\n            else {\n                // everything good;\n            }\n        });\n        // END of logs\n    };\n    FlagshipVisitor.prototype.isVisitorCacheExist = function () {\n        if (!this.fetchedModifications || !this.modificationsInternalStatus) {\n            this.log.debug('checkCampaignsActivatedMultipleTimes: Error \"this.fetchedModifications\" or/and \"this.modificationsInternalStatus\" is empty');\n            return false;\n        }\n        return true;\n    };\n    FlagshipVisitor.prototype.checkCampaignsActivatedMultipleTimes = function (detailsModifications, activateAll) {\n        var _this = this;\n        if (detailsModifications === void 0) { detailsModifications = null; }\n        if (activateAll === void 0) { activateAll = false; }\n        var output = { activateCampaign: {}, activateKey: {} };\n        var requestedActivateKeys;\n        if (!this.isVisitorCacheExist()) {\n            return output;\n        }\n        if (detailsModifications) {\n            requestedActivateKeys = Object.entries(detailsModifications).filter(function (_a) {\n                var keyInfo = _a[1];\n                return keyInfo.isActivateNeeded === true;\n            });\n        }\n        else if (activateAll) {\n            requestedActivateKeys = Object.entries(this.modificationsInternalStatus);\n        }\n        else {\n            return output;\n        }\n        var extractModificationIndirectKeysFromCampaign = function (campaignId, directKey) {\n            if (_this.fetchedModifications) {\n                var campaignDataArray = _this.fetchedModifications.filter(function (campaign) { return campaign.id === campaignId; });\n                if (campaignDataArray.length === 1) {\n                    return Object.keys(campaignDataArray[0].variation.modifications.value).filter(function (key) { return key !== directKey; });\n                }\n                _this.log.debug(\"extractModificationIndirectKeysFromCampaign - detected more than one campaign with same id \\\"\" + campaignDataArray[0].id + \"\\\"\");\n            }\n            return [];\n        };\n        requestedActivateKeys.forEach(function (_a) {\n            var key = _a[0], keyInfos = _a[1];\n            if (output.activateCampaign[keyInfos.campaignId[0]]) {\n                output.activateCampaign[keyInfos.campaignId[0]].directActivate.push(key);\n            }\n            else {\n                output.activateCampaign[keyInfos.campaignId[0]] = {\n                    directActivate: [key],\n                    indirectActivate: extractModificationIndirectKeysFromCampaign(keyInfos.campaignId[0], key)\n                };\n            }\n        });\n        // then, clean indirect key which are also in direct\n        Object.keys(output.activateCampaign).forEach(function (campaignId) {\n            Object.values(output.activateCampaign[campaignId].directActivate).forEach(function (directKey) {\n                if (output.activateCampaign[campaignId].indirectActivate.includes(directKey)) {\n                    output.activateCampaign[campaignId].indirectActivate.splice(output.activateCampaign[campaignId].indirectActivate.indexOf(directKey), 1);\n                }\n            });\n        });\n        // then, fill \"keyActivate\"\n        var extractNbTimesActivateCallForKey = function (key) {\n            return Object.values(output.activateCampaign).reduce(function (count, _a) {\n                var directActivate = _a.directActivate, indirectActivate = _a.indirectActivate;\n                return count + indirectActivate.filter(function (item) { return item === key; }).length + directActivate.filter(function (item) { return item === key; }).length;\n            }, 0);\n        };\n        requestedActivateKeys.forEach(function (_a) {\n            var key = _a[0];\n            output.activateKey[key] = extractNbTimesActivateCallForKey(key);\n        });\n        // done\n        return output;\n    };\n    FlagshipVisitor.prototype.getModificationsInternalStatus = function () {\n        var detailsModifications = FlagshipVisitor.analyseModifications(this.fetchedModifications).detailsModifications;\n        var previousInternalStatus = this.modificationsInternalStatus;\n        return Object.keys(detailsModifications).reduce(function (reducer, key) {\n            var _a, _b;\n            var _c = detailsModifications[key], value = _c.value, type = _c.type, campaignId = _c.campaignId, variationGroupId = _c.variationGroupId, variationId = _c.variationId;\n            if (previousInternalStatus && previousInternalStatus[key]) {\n                // update existing\n                return __assign(__assign({}, reducer), (_a = {}, _a[key] = __assign(__assign({}, previousInternalStatus[key]), { // erase everything except \"hasBeenActivated\" in case of a new campaign impact the value\n                    value: value,\n                    type: type,\n                    campaignId: campaignId,\n                    variationId: variationId,\n                    variationGroupId: variationGroupId }), _a));\n            }\n            return __assign(__assign({}, reducer), (_b = {}, _b[key] = {\n                value: value,\n                type: type,\n                campaignId: campaignId,\n                variationId: variationId,\n                variationGroupId: variationGroupId,\n                activated: {\n                    variationId: [],\n                    variationGroupId: []\n                }\n            }, _b));\n        }, {});\n    };\n    FlagshipVisitor.analyseModifications = function (campaigns, activate, modificationsRequested) {\n        if (campaigns === void 0) { campaigns = []; }\n        if (activate === void 0) { activate = false; }\n        var detailsModifications = {};\n        var mergedModifications = {};\n        campaigns.forEach(function (campaign) {\n            Object.entries(campaign.variation.modifications.value).forEach(function (_a) {\n                var key = _a[0], value = _a[1];\n                if (mergedModifications[key]) {\n                    // This modif already exist on a previous campaign\n                    detailsModifications[key].value.push(value);\n                    detailsModifications[key].type.push(campaign.variation.modifications.type);\n                    detailsModifications[key].campaignId.push(campaign.id);\n                    detailsModifications[key].variationId.push(campaign.variation.id);\n                    detailsModifications[key].variationGroupId.push(campaign.variationGroupId);\n                }\n                else {\n                    // New modif\n                    mergedModifications[key] = value;\n                    detailsModifications[key] = {\n                        value: [value],\n                        type: [campaign.variation.modifications.type],\n                        campaignId: [campaign.id],\n                        variationId: [campaign.variation.id],\n                        variationGroupId: [campaign.variationGroupId],\n                        isRequested: false,\n                        isActivateNeeded: !!activate\n                    };\n                    if (modificationsRequested) {\n                        modificationsRequested.some(function (item) {\n                            if (item.key === key) {\n                                detailsModifications[key].isRequested = true;\n                                if (!activate && !!item.activate) {\n                                    detailsModifications[key].isActivateNeeded = item.activate;\n                                }\n                            }\n                        });\n                    }\n                }\n            });\n            return null;\n        });\n        return { detailsModifications: detailsModifications, mergedModifications: mergedModifications };\n    };\n    FlagshipVisitor.prototype.extractDesiredModifications = function (response, modificationsRequested, activateAllModifications) {\n        var _this = this;\n        if (activateAllModifications === void 0) { activateAllModifications = null; }\n        var desiredModifications = {};\n        // Extract all modifications from \"normal\" answer and put them in \"mergedModifications\" as \"simple\" mode would do but with additional info.\n        var _a = FlagshipVisitor.analyseModifications(response, !!activateAllModifications, modificationsRequested), detailsModifications = _a.detailsModifications, mergedModifications = _a.mergedModifications;\n        // Notify modifications which have campaign conflict\n        Object.entries(detailsModifications).forEach(function (_a) {\n            var key = _a[0];\n            // log only if it's a requested key\n            if (detailsModifications[key].value.length > 1 && detailsModifications[key].isRequested) {\n                _this.log.warn(\"Modification \\\"\" + key + \"\\\" has further values because the modification is involved in campaigns with (id=\\\"\" + detailsModifications[key].campaignId.toString() + \"\\\"). Modification value kept is \" + key + \"=\\\"\" + detailsModifications[key].value[0] + \"\\\"\");\n            }\n        });\n        // Check modifications requested (=modificationsRequested) match modifications fetched (=mergedModifications)\n        (modificationsRequested || []).forEach(function (modifRequested) {\n            if (typeof mergedModifications[modifRequested.key] !== 'undefined' && mergedModifications[modifRequested.key] !== null) {\n                desiredModifications[modifRequested.key] = mergedModifications[modifRequested.key];\n            }\n            else {\n                var defaultValue = modifRequested.defaultValue;\n                desiredModifications[modifRequested.key] = defaultValue;\n                // log only if we're not in panic mode\n                if (_this.panic.enabled === false) {\n                    _this.log.debug(\"No value found for modification \\\"\" + modifRequested.key + \"\\\".\\nSetting default value \\\"\" + defaultValue + \"\\\"\");\n                    if (modifRequested.activate) {\n                        _this.log.warn(\"Unable to activate modification \\\"\" + modifRequested.key + \"\\\" because it does not exist on any existing campaign...\");\n                    }\n                }\n            }\n        });\n        return { desiredModifications: desiredModifications, detailsModifications: detailsModifications };\n    };\n    FlagshipVisitor.prototype.getModificationsPostProcess = function (response, modificationsRequested, activateAllModifications) {\n        if (activateAllModifications === void 0) { activateAllModifications = null; }\n        var completeResponse = response;\n        var responseData = completeResponse && completeResponse.data ? completeResponse.data : response;\n        if (modificationsRequested && responseData && typeof responseData === 'object' && !Array.isArray(response)) {\n            var _a = this.extractDesiredModifications(responseData.campaigns, modificationsRequested, activateAllModifications), desiredModifications = _a.desiredModifications, detailsModifications = _a.detailsModifications;\n            this.log.debug(\"getModificationsPostProcess - detailsModifications:\\n\" + JSON.stringify(detailsModifications));\n            this.triggerActivateIfNeeded(detailsModifications);\n            return desiredModifications;\n        }\n        if (!modificationsRequested) {\n            this.log.error(\"Requesting some specific modifications but the \\\"modificationsRequested\\\" argument is \\\"\" + typeof modificationsRequested + \"\\\"...\");\n        }\n        return {};\n    };\n    FlagshipVisitor.prototype.getModifications = function (modificationsRequested, activateAllModifications) {\n        if (activateAllModifications === void 0) { activateAllModifications = null; }\n        if (this.panic.shouldRunSafeMode('getModifications')) {\n            var desiredModifications = this.extractDesiredModifications([], modificationsRequested, false).desiredModifications;\n            return desiredModifications;\n        }\n        if (!this.fetchedModifications) {\n            this.log.warn('No modifications found in cache...');\n            var desiredModifications = this.extractDesiredModifications([], modificationsRequested, activateAllModifications).desiredModifications;\n            return desiredModifications;\n        }\n        var response = this.fetchAllModifications({\n            activate: !!activateAllModifications,\n            loadFromCache: true\n        });\n        return this.getModificationsPostProcess(response, modificationsRequested, activateAllModifications);\n    };\n    FlagshipVisitor.prototype.getModificationInfo = function (key) {\n        var _this = this;\n        if (this.panic.shouldRunSafeMode('getModificationInfo')) {\n            return new Promise(function (resolve) { return resolve(null); });\n        }\n        var polishOutput = function (data) { return ({\n            campaignId: data.id,\n            variationId: data.variation.id,\n            variationGroupId: data.variationGroupId\n        }); };\n        return new Promise(function (resolve, reject) {\n            var fetchedModif = _this.fetchAllModifications({ activate: false, force: true });\n            fetchedModif\n                .then(function (response) {\n                var castResponse = response;\n                flagshipSdkHelper_1.default.checkDecisionApiResponseFormat(castResponse, _this.log);\n                var campaigns = castResponse.data.campaigns;\n                var detailsModifications = _this.extractDesiredModifications(campaigns, [{ key: key, defaultValue: '', activate: false }], false).detailsModifications;\n                if (!detailsModifications[key]) {\n                    resolve(null);\n                }\n                else if (detailsModifications[key].campaignId.length > 1) {\n                    var consideredCampaignId_1 = detailsModifications[key].campaignId[0];\n                    _this.log.warn(\"Modification \\\"\" + key + \"\\\" is involved in further campgains with:\\nid=\\\"\" + detailsModifications[key].campaignId.toString() + \"\\\"\\nKeeping data from:\\ncampaignId=\\\"\" + consideredCampaignId_1 + \"\\\"\");\n                    resolve(polishOutput(campaigns.filter(function (cpgn) { return cpgn.id === consideredCampaignId_1; })[0]));\n                }\n                resolve(polishOutput(campaigns.filter(function (cpgn) { return cpgn.id === detailsModifications[key].campaignId[0]; })[0]));\n            })\n                .catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    FlagshipVisitor.prototype.updateContext = function (context) {\n        if (this.panic.shouldRunSafeMode('updateContext')) {\n            return;\n        }\n        this.context = flagshipSdkHelper_1.default.checkVisitorContext(context, this.log);\n    };\n    FlagshipVisitor.prototype.synchronizeModifications = function (activate) {\n        var _this = this;\n        var _a, _b;\n        if (activate === void 0) { activate = false; }\n        var httpCallback = ((_b = (_a = this.config.internal) === null || _a === void 0 ? void 0 : _a.reactNative) === null || _b === void 0 ? void 0 : _b.httpCallback) || null;\n        if (this.config.decisionMode !== 'API' && this.panic.shouldRunSafeMode('synchronizeModifications')) {\n            return new Promise(function (resolve) { return resolve(400); });\n        }\n        return new Promise(function (resolve, reject) {\n            var postSynchro = function (output, response) {\n                _this.callEventEndpoint();\n                resolve((response === null || response === void 0 ? void 0 : response.status) || 200);\n            };\n            if (_this.config.decisionMode === 'Bucketing') {\n                if (_this.bucket !== null) {\n                    _this.bucket.updateVisitorContext(_this.context);\n                }\n                // this if condition is to avoid unresolved promise if we call this.fetchAllModifications after\n                if (!_this.bucket || (_this.bucket && !_this.bucket.global.isPollingRunning && !_this.bucket.computedData)) {\n                    _this.log.info('synchronizeModifications - you might synchronize modifications too early because bucketing is empty or did not start');\n                    postSynchro();\n                    return;\n                }\n            }\n            var fetchedModifPromise = _this.fetchAllModifications({\n                activate: activate,\n                force: true,\n                httpCallback: httpCallback\n            });\n            fetchedModifPromise\n                .then(function (response) {\n                var output = flagshipSdkHelper_1.default.checkDecisionApiResponseFormat(response, _this.log);\n                postSynchro(output, response);\n            })\n                .catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    FlagshipVisitor.prototype.getModificationsForCampaign = function (campaignId, activate) {\n        var _this = this;\n        if (activate === void 0) { activate = false; }\n        if (this.panic.shouldRunSafeMode('getModificationsForCampaign')) {\n            return new Promise(function (resolve) { return resolve({ data: flagshipSdkHelper_1.default.generatePanicDecisionApiResponse(_this.id), status: 400 }); });\n        }\n        return this.fetchAllModifications({ activate: activate, campaignCustomID: campaignId });\n    };\n    FlagshipVisitor.prototype.getAllModifications = function (activate, options) {\n        var _this = this;\n        var _a, _b;\n        if (activate === void 0) { activate = false; }\n        if (options === void 0) { options = {}; }\n        var httpCallback = ((_b = (_a = this.config.internal) === null || _a === void 0 ? void 0 : _a.reactNative) === null || _b === void 0 ? void 0 : _b.httpCallback) || null;\n        if (this.panic.shouldRunSafeMode('getAllModifications')) {\n            return new Promise(function (resolve) {\n                if (options === null || options === void 0 ? void 0 : options.simpleMode) {\n                    resolve({});\n                }\n                else {\n                    resolve({\n                        data: [],\n                        status: 400\n                    });\n                }\n            });\n        }\n        var defaultOptions = {\n            force: false,\n            simpleMode: false\n        };\n        var optionsToConsider = __assign(__assign({}, defaultOptions), options);\n        return new Promise(function (resolve, reject) {\n            _this.fetchAllModifications({ activate: activate, force: optionsToConsider.force, httpCallback: httpCallback })\n                .then(function (response) {\n                if (optionsToConsider.simpleMode) {\n                    var detailsModifications_1 = FlagshipVisitor.analyseModifications(response.data.campaigns).detailsModifications;\n                    resolve(Object.keys(detailsModifications_1).reduce(function (reducer, key) {\n                        var _a;\n                        return (__assign(__assign({}, reducer), (_a = {}, _a[key] = detailsModifications_1[key].value[0], _a)));\n                    }, {}));\n                }\n                else {\n                    resolve(response);\n                }\n            })\n                .catch(function (error) { return reject(error); });\n        });\n    };\n    FlagshipVisitor.prototype.fetchAllModificationsPostProcess = function (response, _a) {\n        var activate = _a.activate, campaignCustomID = _a.campaignCustomID;\n        var completeResponse = response;\n        var reshapeResponse = completeResponse.data ? completeResponse : { data: response };\n        var responseData = completeResponse.data ? completeResponse.data : response;\n        var output = { data: {} };\n        var analysedModifications = {};\n        var filteredCampaigns = [];\n        // PART 1: Compute the data (if needed)\n        if (responseData && responseData.campaigns) {\n            if (campaignCustomID) {\n                // request data from ONE specific campaign\n                filteredCampaigns = responseData.campaigns.filter(function (item) { return item.id === campaignCustomID; });\n                var detailsModifications = FlagshipVisitor.analyseModifications(filteredCampaigns, !!activate).detailsModifications /* , mergedModifications */;\n                analysedModifications = detailsModifications;\n                output = __assign(__assign({}, reshapeResponse), { data: {\n                        visitorId: this.id,\n                        campaigns: filteredCampaigns\n                    } });\n            }\n            else {\n                // default behavior\n                var detailsModifications = FlagshipVisitor.analyseModifications(responseData.campaigns, !!activate).detailsModifications /* , mergedModifications */;\n                analysedModifications = detailsModifications;\n                output = __assign({}, reshapeResponse);\n            }\n        }\n        else {\n            var warningMsg = 'No modification(s) found';\n            if (campaignCustomID) {\n                warningMsg += \" for campaignId=\\\"\" + campaignCustomID + \"\\\"\";\n                output = __assign(__assign({}, reshapeResponse), { data: { campaigns: [], visitorId: this.id } });\n            }\n            else {\n                output = __assign({}, reshapeResponse);\n            }\n            this.log.warn(warningMsg);\n        }\n        // PART 2: Handle activate (if needed)\n        if (this.fetchedModifications) {\n            this.triggerActivateIfNeeded(analysedModifications);\n        }\n        // PART 3: Return the data\n        return output;\n    };\n    FlagshipVisitor.prototype.saveModificationsInCache = function (data) {\n        var _this = this;\n        var haveBeenCalled = false;\n        var previousFM = this.fetchedModifications;\n        var save = function (dataToSave) {\n            if (dataToSave === void 0) { dataToSave = null; }\n            _this.fetchedModifications = flagshipSdkHelper_1.default.validateDecisionApiData(dataToSave, _this.log);\n            _this.modificationsInternalStatus = _this.fetchedModifications === null ? null : _this.getModificationsInternalStatus();\n        };\n        var callback = function (campaigns) {\n            if (campaigns === void 0) { campaigns = data; }\n            haveBeenCalled = true;\n            if (previousFM !== campaigns) {\n                // log only when there is a change\n                _this.log.debug(\"saveModificationsInCache - saving in cache modifications returned by the callback: \" + (Array.isArray(campaigns) ? JSON.stringify(campaigns) : campaigns));\n            }\n            save(campaigns);\n        };\n        // emit 'saveCache' with a callback if modifications need to be override\n        this.emit('saveCache', {\n            saveInCacheModifications: callback,\n            modifications: {\n                before: this.fetchedModifications,\n                after: data || null\n            }\n        });\n        // if callback not used, do default behavior\n        if (!haveBeenCalled) {\n            save(data);\n            this.log.debug(\"saveModificationsInCache - saving in cache those modifications: \\\"\" + (this.fetchedModifications ? JSON.stringify(this.fetchedModifications) : 'null') + \"\\\"\");\n        }\n    };\n    FlagshipVisitor.prototype.fetchAllModifications = function (args) {\n        var _this = this;\n        var defaultArgs = {\n            activate: false,\n            campaignCustomID: null,\n            force: false,\n            loadFromCache: false\n        };\n        var _a = __assign(__assign({}, defaultArgs), args), activate = _a.activate, force = _a.force, loadFromCache = _a.loadFromCache, httpCallback = _a.httpCallback /* , campaignCustomID, */;\n        var url = \"\" + this.config.flagshipApi + this.envId + \"/campaigns?mode=normal\";\n        // check if need to return without promise\n        if (loadFromCache) {\n            if (this.fetchedModifications && !force) {\n                this.log.debug('fetchAllModifications - loadFromCache enabled');\n                return this.fetchAllModificationsPostProcess({ visitorId: this.id, campaigns: this.fetchedModifications }, __assign(__assign({}, defaultArgs), args)).data;\n            }\n            this.log.fatal('fetchAllModifications - loadFromCache enabled but no data in cache. Make sure you fetched at least once before.');\n            return { visitorId: this.id, campaigns: this.fetchedModifications };\n        }\n        // default: return a promise\n        return new Promise(function (resolve, reject) {\n            var _a;\n            if (_this.fetchedModifications && !force) {\n                _this.log.info('fetchAllModifications - no calls to the Decision API because it has already been fetched before');\n                resolve(_this.fetchAllModificationsPostProcess({ visitorId: _this.id, campaigns: _this.fetchedModifications }, __assign(__assign({}, defaultArgs), args)));\n            }\n            else if (_this.config.decisionMode === 'Bucketing') {\n                var transformedBucketingData = { visitorId: _this.id, campaigns: [] };\n                _this.bucket.updateCache();\n                if ((_a = _this.bucket) === null || _a === void 0 ? void 0 : _a.computedData) {\n                    transformedBucketingData = __assign(__assign({}, transformedBucketingData), { campaigns: _this.bucket.computedData.campaigns });\n                    _this.saveModificationsInCache(transformedBucketingData.campaigns);\n                    if (activate) {\n                        _this.log.debug(\"fetchAllModifications - activateNow enabled with bucketing mode. Following keys \\\"\" + Object.keys(_this.modificationsInternalStatus).join(', ') + \"\\\" will be activated.\");\n                        // NOTE: triggerActivateIfNeeded trigger in post process\n                    }\n                }\n                else {\n                    _this.log.info(\"fetchAllModifications - the visitor won't have modifications assigned as the bucketing still didn't received any data. Consider do a synchronization a bit later.\");\n                }\n                resolve(_this.fetchAllModificationsPostProcess(transformedBucketingData, __assign(__assign({}, defaultArgs), args)));\n            }\n            else {\n                flagshipSdkHelper_1.default\n                    .postFlagshipApi({\n                    callback: httpCallback,\n                    panic: _this.panic,\n                    config: _this.config,\n                    log: _this.log,\n                    endpoint: url,\n                    params: {\n                        visitor_id: _this.id,\n                        trigger_hit: activate,\n                        // sendContextEvent: false, // NOTE: not set because endpoint \"/events\" is called only with bucketing mode\n                        context: _this.context\n                    }\n                }, \n                // query params:\n                {\n                    params: {\n                        exposeAllKeys: true,\n                        sendContextEvent: false // hardcoded - tell decision api not to automatically manage events\n                    }\n                })\n                    .then(function (response) {\n                    _this.saveModificationsInCache(response.data.campaigns);\n                    resolve(_this.fetchAllModificationsPostProcess(response, __assign(__assign({}, defaultArgs), args)));\n                })\n                    .catch(function (response) {\n                    _this.log.fatal(\"fetchAllModifications - an error occurred while fetching \" + ((response === null || response === void 0 ? void 0 : response.message) || '...')); // TODO: precise error\n                    if (activate) {\n                        _this.log.fatal('fetchAllModifications - activate canceled due to errors...');\n                    }\n                    reject(response);\n                });\n            }\n        });\n    };\n    FlagshipVisitor.prototype.generateCustomTypeParamsOf = function (hitData) {\n        var optionalAttributes = {};\n        // TODO: move common optional attributes before switch statement (ie: \"pageTitle\", \"documentLocation\",...)\n        switch (hitData.type.toUpperCase()) {\n            case 'SCREEN':\n            case 'SCREENVIEW': {\n                var _a = hitData.data, documentLocation = _a.documentLocation, pageTitle = _a.pageTitle;\n                if (!documentLocation || !pageTitle) {\n                    if (!documentLocation)\n                        this.log.error('sendHits(ScreenView) - failed because following required attribute \"documentLocation\" is missing...');\n                    if (!pageTitle)\n                        this.log.error('sendHits(ScreenView) - failed because following required attribute \"pageTitle\" is missing...');\n                    return null;\n                }\n                return {\n                    t: 'SCREENVIEW',\n                    dl: documentLocation,\n                    pt: pageTitle\n                };\n            }\n            case 'TRANSACTION': {\n                var _b = hitData.data, documentLocation = _b.documentLocation, pageTitle = _b.pageTitle, transactionId = _b.transactionId, affiliation = _b.affiliation, totalRevenue = _b.totalRevenue, shippingCost = _b.shippingCost, taxes = _b.taxes, currency = _b.currency, couponCode = _b.couponCode, paymentMethod = _b.paymentMethod, shippingMethod = _b.shippingMethod, itemCount = _b.itemCount;\n                if (totalRevenue) {\n                    optionalAttributes.tr = totalRevenue; // number, max length = NONE\n                }\n                if (shippingCost) {\n                    optionalAttributes.ts = shippingCost; // number, max length = NONE\n                }\n                if (taxes) {\n                    optionalAttributes.tt = taxes; // number, max length = NONE\n                }\n                if (currency) {\n                    optionalAttributes.tc = currency; // string, max length = 10 BYTES\n                }\n                if (couponCode) {\n                    optionalAttributes.tcc = couponCode; // string, max length = 10 BYTES\n                }\n                if (paymentMethod) {\n                    optionalAttributes.pm = paymentMethod; // string, max length = 10 BYTES\n                }\n                if (shippingMethod) {\n                    optionalAttributes.sm = shippingMethod; // string, max length = 10 BYTES\n                }\n                if (itemCount) {\n                    optionalAttributes.icn = itemCount; // number, max length = NONE\n                }\n                if (documentLocation) {\n                    optionalAttributes.dl = documentLocation; // string, max length = 2048 BYTES\n                }\n                if (pageTitle) {\n                    optionalAttributes.pt = pageTitle; // string, max length = 1500 BYTES\n                }\n                if (!transactionId || !affiliation) {\n                    if (!transactionId)\n                        this.log.error('sendHits(Transaction) - failed because following required attribute \"transactionId\" is missing...');\n                    if (!affiliation)\n                        this.log.error('sendHits(Transaction) - failed because following required attribute \"affiliation\" is missing...');\n                    return null;\n                }\n                return __assign({ t: 'TRANSACTION', tid: transactionId, ta: affiliation }, optionalAttributes);\n            }\n            case 'ITEM': {\n                var _c = hitData.data, transactionId = _c.transactionId, name_1 = _c.name, documentLocation = _c.documentLocation, pageTitle = _c.pageTitle, price = _c.price, code = _c.code, category = _c.category, quantity = _c.quantity;\n                if (price) {\n                    optionalAttributes.ip = price; // number, max length = NONE\n                }\n                if (quantity) {\n                    optionalAttributes.iq = quantity; // number, max length = NONE\n                }\n                if (category) {\n                    optionalAttributes.iv = category; // string, max length = 500 BYTES\n                }\n                if (documentLocation) {\n                    optionalAttributes.dl = documentLocation; // string, max length = 2048 BYTES\n                }\n                if (pageTitle) {\n                    optionalAttributes.pt = pageTitle; // string, max length = 1500 BYTES\n                }\n                if (!transactionId || !name_1 || !code) {\n                    if (!transactionId)\n                        this.log.error('sendHits(Item) - failed because following required attribute \"transactionId\" is missing...');\n                    if (!name_1)\n                        this.log.error('sendHits(Item) - failed because following required attribute \"name\" is missing...');\n                    if (!code)\n                        this.log.error('sendHits(Item) - failed because following required attribute \"code\" is missing...');\n                    return null;\n                }\n                return __assign({ t: 'ITEM', tid: transactionId, in: name_1, ic: code }, optionalAttributes);\n            }\n            case 'EVENT': {\n                var _d = hitData.data, label = _d.label, value = _d.value, documentLocation = _d.documentLocation, category = _d.category, pageTitle = _d.pageTitle, action = _d.action;\n                if (label) {\n                    optionalAttributes.el = label; // string, max length = 500 BYTES\n                }\n                if (value) {\n                    optionalAttributes.ev = value; // string, max length = 500 BYTES\n                }\n                if (documentLocation) {\n                    optionalAttributes.dl = documentLocation; // string, max length = 2048 BYTES\n                }\n                if (pageTitle) {\n                    optionalAttributes.pt = pageTitle; // string, max length = 1500 BYTES\n                }\n                if (!category || !action) {\n                    this.log.debug(\"sendHits(Event) - this hits is missing attributes:\\n\" + JSON.stringify(hitData));\n                    if (!category)\n                        this.log.error('sendHits(Event) - failed because following required attribute \"category\" is missing...');\n                    if (!action)\n                        this.log.error('sendHits(Event) - failed because following required attribute \"action\" is missing...');\n                    return null;\n                }\n                return __assign({ t: 'EVENT', ea: action, ec: category }, optionalAttributes);\n            }\n            default:\n                this.log.error(\"sendHits - no type found for hit: \\\"\" + JSON.stringify(hitData) + \"\\\"\");\n                return null;\n        }\n    };\n    FlagshipVisitor.prototype.sendHits = function (hitsArray) {\n        var _this = this;\n        if (this.panic.shouldRunSafeMode('sendHits')) {\n            return new Promise(function (resolve) { return resolve(); });\n        }\n        var payloads = [];\n        var url = 'https://ariane.abtasty.com';\n        var handleHitsError = function (error) {\n            _this.log.fatal(\"sendHits - fail with error: \\\"\" + error + \"\\\"\");\n        };\n        return new Promise(function (resolve, reject) {\n            var promises = Promise.all(hitsArray.map(function (hit) { return __awaiter(_this, void 0, void 0, function () {\n                var customParams, payload_1;\n                return __generator(this, function (_a) {\n                    customParams = this.generateCustomTypeParamsOf(hit);\n                    if (customParams) {\n                        payload_1 = __assign({ vid: this.id, cid: this.envId, ds: 'APP' }, customParams);\n                        payloads.push(payload_1);\n                        return [2 /*return*/, axios_1.default.post(url, payload_1).then(function () { return (__assign({ skipped: false }, payload_1)); })];\n                    }\n                    this.log.debug(\"sendHits - skip request to \\\"\" + url + \"\\\" because current hit not set correctly\");\n                    return [2 /*return*/, new Promise(function (resolveAuto) { return resolveAuto({ skipped: true }); })]; // do nothing\n                });\n            }); }));\n            promises\n                .then(function (data) {\n                data.forEach(function (d) {\n                    if (d && !d.skipped) {\n                        _this.log.info(\"sendHits - hit (type\\\"\" + d.t + \"\\\") send successfully\");\n                        _this.log.debug(\"sendHits - with url \" + url);\n                        _this.log.debug(\"sendHits - with payload:\\n\" + payloads.map(function (p) { return JSON.stringify(p) + \"\\n\"; }));\n                    }\n                });\n                resolve();\n            })\n                .catch(function (error) {\n                handleHitsError(error);\n                reject(error);\n            });\n        });\n    };\n    FlagshipVisitor.prototype.sendHit = function (hitData) {\n        if (this.panic.shouldRunSafeMode('sendHit')) {\n            return new Promise(function (resolve) { return resolve(); });\n        }\n        return this.sendHits([hitData]);\n    };\n    FlagshipVisitor.prototype.callEventEndpoint = function () {\n        var _this = this;\n        if (this.panic.shouldRunSafeMode('callEventEndpoint', { logType: 'debug' })) {\n            return new Promise(function (resolve) { return resolve(400); });\n        }\n        return new Promise(function (resolve, reject) {\n            flagshipSdkHelper_1.default\n                .postFlagshipApi({\n                panic: _this.panic,\n                config: _this.config,\n                log: _this.log,\n                endpoint: \"\" + _this.config.flagshipApi + _this.envId + \"/events\",\n                params: {\n                    visitor_id: _this.id,\n                    type: 'CONTEXT',\n                    data: __assign({}, _this.context)\n                }\n            })\n                .then(function (response) {\n                _this.log.debug(\"callEventEndpoint - returns status=\" + response.status);\n                resolve(response.status);\n            })\n                .catch(function (error) {\n                _this.log.error(\"callEventEndpoint - failed with error=\\\"\" + error + \"\\\"\");\n                reject(error);\n            });\n        });\n    };\n    return FlagshipVisitor;\n}(events_1.EventEmitter));\nexports.default = FlagshipVisitor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar js_sdk_logs_1 = require(\"@flagship.io/js-sdk-logs\");\nvar PanicMode = /** @class */ (function () {\n    function PanicMode(config) {\n        this.enabled = false;\n        this.beginDate = null;\n        this.log = js_sdk_logs_1.default.getLogger(config, \"Flagship SDK - panic mode\");\n    }\n    PanicMode.prototype.setPanicModeTo = function (value, options) {\n        if (options === void 0) { options = { sendLogs: true }; }\n        var sendLogs = options.sendLogs;\n        if (value === this.enabled) {\n            if (sendLogs) {\n                this.log.debug(value ? \"panic mode already ENABLED since \" + this.beginDate.toDateString() : 'panic mode already DISABLED.');\n            }\n            return;\n        }\n        this.enabled = value;\n        this.beginDate = value === false ? null : new Date();\n        if (sendLogs) {\n            this.log.info(value ? 'panic mode is ENABLED. SDK will turn into safe mode.' : 'panic mode is DISABLED. Everything is back to normal.');\n        }\n    };\n    PanicMode.prototype.checkPanicMode = function (response) {\n        var answer = !!(response === null || response === void 0 ? void 0 : response.panic);\n        this.setPanicModeTo(answer, { sendLogs: answer !== this.enabled });\n    };\n    PanicMode.prototype.shouldRunSafeMode = function (functionName, options) {\n        if (options === void 0) { options = { logType: 'error' }; }\n        var logType = options.logType;\n        if (this.enabled) {\n            switch (logType) {\n                case 'debug':\n                    this.log.debug(\"Can't execute '\" + functionName + \"' because the SDK is in panic mode !\");\n                    break;\n                default:\n                    this.log.error(\"Can't execute '\" + functionName + \"' because the SDK is in panic mode !\");\n                    break;\n            }\n        }\n        return this.enabled;\n    };\n    return PanicMode;\n}());\nexports.default = PanicMode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.internalConfig = void 0;\nvar defaultConfig = {\n    fetchNow: true,\n    activateNow: false,\n    enableConsoleLogs: false,\n    decisionMode: 'API',\n    nodeEnv: 'production',\n    flagshipApi: 'https://decision-api.flagship.io/v1/',\n    pollingInterval: null,\n    apiKey: null,\n    timeout: 2,\n    initialBucketing: null,\n    initialModifications: null,\n    internal: {\n        react: null,\n        reactNative: {\n            httpCallback: null\n        }\n    }\n};\nexports.internalConfig = {\n    bucketingEndpoint: 'https://cdn.flagship.io/@ENV_ID@/bucketing.json',\n    apiV1: 'https://decision-api.flagship.io/v1/',\n    apiV2: 'https://decision.flagship.io/v2/',\n    pollingIntervalMinValue: 1 // (= 1 sec)\n};\nexports.default = defaultConfig;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react = {\n    enableErrorLayout: false,\n    enableSafeMode: false,\n};\nvar reactNative = {};\nvar otherSdk = __assign(__assign({}, react), reactNative);\nexports.default = otherSdk;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.demoPollingInterval = void 0;\nvar default_1 = require(\"./default\");\nvar testConfig = __assign(__assign({}, default_1.default), { nodeEnv: 'development' });\nexports.demoPollingInterval = 0.005; // 1 000 * 0.022 = 1320 ms (1.3 sec)\nexports.default = testConfig;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flagship_1 = require(\"./class/flagship/flagship\");\nfunction startLegacy(envId, config) {\n    return new flagship_1.default(envId, undefined, config);\n}\n// NOTE: apiKeyOrSettings (any) will become apiKey (string) in next major release\nfunction start(envId, apiKeyOrSettings, config) {\n    if (typeof apiKeyOrSettings === 'object' && apiKeyOrSettings !== null && !Array.isArray(apiKeyOrSettings)) {\n        return startLegacy(envId, apiKeyOrSettings);\n    }\n    return new flagship_1.default(envId, apiKeyOrSettings, config);\n}\nvar flagship = {\n    start: start\n};\nexports.default = flagship;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axios_1 = require(\"axios\");\nvar validate_js_1 = require(\"validate.js\");\nvar default_1 = require(\"../config/default\");\nvar otherSdk_1 = require(\"../config/otherSdk\");\nvar test_1 = require(\"../config/test\");\nvar checkRequiredSettingsForApiV2 = function (config, log) {\n    if (config.flagshipApi && config.flagshipApi.includes('/v2/') && !config.apiKey) {\n        log.fatal('initialization - flagshipApi v2 detected but required setting \"apiKey\" is missing !');\n    }\n};\nvar flagshipSdkHelper = {\n    postFlagshipApi: function (_a, queryParams) {\n        var panic = _a.panic, config = _a.config, log = _a.log, endpoint = _a.endpoint, callback = _a.callback, params = _a.params;\n        if (queryParams === void 0) { queryParams = { headers: {} }; }\n        var additionalParams = {};\n        var additionalHeaderParams = {};\n        checkRequiredSettingsForApiV2(config, log);\n        var isNotApiV1 = !config.flagshipApi.includes('/v1/');\n        if (config.apiKey && isNotApiV1) {\n            additionalHeaderParams['x-api-key'] = config.apiKey;\n        }\n        var url = endpoint.includes(config.flagshipApi) ? endpoint : config.flagshipApi + endpoint;\n        var cancelTokenSource = axios_1.default.CancelToken.source();\n        var axiosFct = function () {\n            return axios_1.default\n                .post(url, __assign(__assign({}, params), additionalParams), __assign(__assign({}, queryParams), { cancelToken: cancelTokenSource.token, headers: __assign(__assign({}, queryParams.headers), additionalHeaderParams), timeout: url.includes('/campaigns') ? config.timeout * 1000 : undefined }))\n                .then(function (response) {\n                panic.checkPanicMode(response.data);\n                return response;\n            });\n        };\n        if (callback) {\n            return callback(axiosFct, cancelTokenSource, config);\n        }\n        return axiosFct();\n    },\n    checkPollingIntervalValue: function (pollingIntervalValue) {\n        var valueType = typeof pollingIntervalValue;\n        switch (valueType) {\n            case 'number':\n                if (process && process.env && process.env.NODE_ENV === 'test' && pollingIntervalValue === test_1.demoPollingInterval) {\n                    // for unit test\n                    return 'ok';\n                }\n                return pollingIntervalValue >= default_1.internalConfig.pollingIntervalMinValue ? 'ok' : 'underLimit';\n            case 'object':\n                return pollingIntervalValue === null ? 'notSupported' : 'notSupported';\n            case 'undefined':\n            default:\n                return 'notSupported';\n        }\n    },\n    checkVisitorContext: function (unknownContext, fsLogger) {\n        var validContext = {};\n        Object.entries(unknownContext).forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            if (typeof value === 'object' && !Array.isArray(value)) {\n                // means value is a json\n                fsLogger.warn(\"Context key \\\"\" + key + \"\\\" is an object (json) which is not supported. This key will be ignored...\");\n            }\n            else if (Array.isArray(value)) {\n                // means value is an array\n                fsLogger.warn(\"Context key \\\"\" + key + \"\\\" is an array which is not supported. This key will be ignored...\");\n            }\n            else if (typeof value === 'undefined' || value === null) {\n                // means value is not an array\n                fsLogger.warn(\"Context key \\\"\" + key + \"\\\" is null or undefined which is not supported. This key will be ignored...\");\n            }\n            else {\n                validContext[key] = value;\n            }\n        });\n        return validContext;\n    },\n    logIgnoredAttributesFromObject: function (obj, log, objectName) {\n        if (objectName === void 0) { objectName = ''; }\n        var hasDirtyValues = false;\n        Object.entries(obj).forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            hasDirtyValues = true;\n            log.warn(\"Unknown key \\\"\" + key + \"\\\" detected (with value=\\\"\" + value + \"\\\"). This key has been ignored... - \" + objectName);\n        });\n        if (!hasDirtyValues) {\n            log.debug(\"No unknown key detected :) - \" + objectName);\n        }\n    },\n    checkTimeout: function (value) {\n        return typeof value === 'number' && value > 0 ? value : default_1.default.timeout;\n    },\n    checkConfig: function (unknownConfig, apiKey) {\n        var cleanObject = {};\n        var dirtyObject = {};\n        var validAttributesList = [];\n        Object.entries(default_1.default).forEach(function (_a) {\n            var key = _a[0];\n            return validAttributesList.push(key);\n        });\n        var whiteListedAttributesList = Object.keys(otherSdk_1.default); // specific config coming from other SDK.\n        Object.keys(unknownConfig).forEach(function (foreignKey) {\n            var value = unknownConfig[foreignKey];\n            if (validAttributesList.includes(foreignKey)) {\n                if (typeof value === 'undefined' || value === null) {\n                    cleanObject[foreignKey] = default_1.default[foreignKey];\n                }\n                else {\n                    switch (foreignKey) {\n                        case 'timeout':\n                            cleanObject[foreignKey] = flagshipSdkHelper.checkTimeout(value);\n                            break;\n                        default:\n                            cleanObject[foreignKey] = value;\n                            break;\n                    }\n                }\n            }\n            else if (whiteListedAttributesList.includes(foreignKey)) {\n                // do nothing\n            }\n            else {\n                dirtyObject[foreignKey] = value;\n            }\n        });\n        // TODO: remove in next major release\n        if (apiKey) {\n            cleanObject.apiKey = apiKey;\n        }\n        return { cleanConfig: __assign({}, cleanObject), ignoredConfig: __assign({}, dirtyObject) };\n    },\n    checkDecisionApiResponseFormat: function (response, log) {\n        if (!response.data || !response.data.campaigns) {\n            log.warn('Unknow Decision Api response received or error happened'); // TODO: can be improved according status value\n            return null;\n        }\n        return response.data;\n    },\n    checkBucketingApiResponse: function (response, log) {\n        var constraints = {\n            campaigns: {\n                presence: { message: 'is missing' },\n                type: { type: 'array', message: 'is not a array' }\n            },\n            lastModifiedDate: {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            }\n        };\n        var constraintsBucketingCampaigns = {\n            id: {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            },\n            type: {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            },\n            variationGroups: {\n                presence: { message: 'is missing' },\n                type: { type: 'array', message: 'is not a array' }\n            }\n        };\n        var result = true;\n        var errorLog = '';\n        var firstCheck = validate_js_1.validate(response, constraints);\n        if (!firstCheck) {\n            response.campaigns.forEach(function (element, index) {\n                var secondCheck = validate_js_1.validate(element, constraintsBucketingCampaigns);\n                if (secondCheck) {\n                    result = false;\n                    errorLog += flagshipSdkHelper.generateValidateError(secondCheck, index);\n                }\n            });\n        }\n        else {\n            result = false;\n            errorLog += flagshipSdkHelper.generateValidateError(firstCheck);\n        }\n        if (result) {\n            return response;\n        }\n        log.error(errorLog);\n        return null;\n    },\n    generateValidateError: function (validateOutput, index) {\n        var errorMsg = '';\n        if (typeof index === 'number') {\n            errorMsg += \"Element at index=\" + index + \":\\n\";\n        }\n        else {\n            errorMsg += \"Element:\\n\";\n        }\n        Object.keys(validateOutput).forEach(function (key) {\n            errorMsg += \"- \\\"\" + key + \"\\\" \" + validateOutput[key].map(function (err, j) {\n                return j === validateOutput[key].length - 1 ? \"\" + err : err + \" and \";\n            }) + \".\\n\";\n        });\n        errorMsg += '\\n';\n        return errorMsg;\n    },\n    validateDecisionApiData: function (data, log) {\n        var constraints = {\n            id: {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            },\n            variationGroupId: {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            },\n            'variation.id': {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            },\n            'variation.modifications.type': {\n                presence: { message: 'is missing' },\n                type: { type: 'string', message: 'is not a string' }\n            },\n            'variation.modifications.value': {\n                presence: { message: 'is missing' }\n            }\n        };\n        var result = {};\n        var errorMsg = 'Decision Api data does not have correct format:\\n';\n        if (!data || !Array.isArray(data)) {\n            if (!Array.isArray(data) && data !== null) {\n                log.error(\"validateDecisionApiData - received unexpected decision api data of type \\\"\" + typeof data + \"\\\"\");\n            }\n            return null;\n        }\n        data.forEach(function (potentialCampaign, i) {\n            var output = validate_js_1.validate(potentialCampaign, constraints);\n            if (output) {\n                result[i] = output;\n                errorMsg += flagshipSdkHelper.generateValidateError(output, i);\n            }\n        });\n        if (Object.keys(result).length === 0) {\n            return data;\n        }\n        log.error(errorMsg);\n        return null;\n    },\n    isUsingFlagshipApi: function (version, config) {\n        switch (version) {\n            case 'v1':\n                return config.flagshipApi.includes(default_1.internalConfig.apiV1);\n            case 'v2':\n                return config.flagshipApi.includes(default_1.internalConfig.apiV2);\n            default:\n                return false;\n        }\n    },\n    generatePanicDecisionApiResponse: function (visitorId) {\n        return {\n            visitorId: visitorId,\n            campaigns: [],\n            panic: true\n        };\n    }\n};\nexports.default = flagshipSdkHelper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar js_sdk_logs_1 = require(\"@flagship.io/js-sdk-logs\");\nexports.default = js_sdk_logs_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utilsHelper = {\n    deepCompare: function (json1, json2) {\n        if (Object.prototype.toString.call(json1) === Object.prototype.toString.call(json2)) {\n            if (Object.prototype.toString.call(json1) === '[object Object]' || Object.prototype.toString.call(json1) === '[object Array]') {\n                if (Object.keys(json1).length !== Object.keys(json2).length) {\n                    return false;\n                }\n                return Object.keys(json1).every(function (key) {\n                    return utilsHelper.deepCompare(json1[key], json2[key]);\n                });\n            }\n            return json1 === json2;\n        }\n        return false;\n    }\n};\nexports.default = utilsHelper;\n","module.exports = require(\"@flagship.io/js-sdk-logs\");","module.exports = require(\"events\");","module.exports = require(\"follow-redirects\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"react-native-murmurhash\");","module.exports = require(\"url\");","module.exports = require(\"zlib\");"],"sourceRoot":""}